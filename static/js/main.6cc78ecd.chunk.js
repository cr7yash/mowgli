(window.webpackJsonppixi=window.webpackJsonppixi||[]).push([[0],[,,,function(t,e,a){"use strict";var n=a(5),r=a(4),i=a(6),s=a(1),o=a(2);Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(){s(this,t),this.array=new Array}return o(t,[{key:"add",value:function(t){var e=this.contains(t);return this.array[0|t]=0|t,!e}},{key:"contains",value:function(t){return void 0!=this.array[0|t]}},{key:"remove",value:function(t){this.array[0|t]=void 0}},{key:"clear",value:function(){this.array.length=0}}]),t}();e.IntSet=l;var h=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;s(this,t),this.r=e,this.g=a,this.b=n,this.a=r}return o(t,[{key:"set",value:function(t,e,a,n){return this.r=t,this.g=e,this.b=a,this.a=n,this.clamp(),this}},{key:"setFromColor",value:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this}},{key:"setFromString",value:function(t){return t="#"==t.charAt(0)?t.substr(1):t,this.r=parseInt(t.substr(0,2),16)/255,this.g=parseInt(t.substr(2,2),16)/255,this.b=parseInt(t.substr(4,2),16)/255,this.a=(8!=t.length?255:parseInt(t.substr(6,2),16))/255,this}},{key:"add",value:function(t,e,a,n){return this.r+=t,this.g+=e,this.b+=a,this.a+=n,this.clamp(),this}},{key:"clamp",value:function(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this}}]),t}();h.WHITE=new h(1,1,1,1),h.RED=new h(1,0,0,1),h.GREEN=new h(0,1,0,1),h.BLUE=new h(0,0,1,1),h.MAGENTA=new h(1,0,1,1),e.Color=h;var u=function(){function t(){s(this,t)}return o(t,null,[{key:"clamp",value:function(t,e,a){return t<e?e:t>a?a:t}},{key:"cosDeg",value:function(e){return Math.cos(e*t.degRad)}},{key:"sinDeg",value:function(e){return Math.sin(e*t.degRad)}},{key:"signum",value:function(t){return t>0?1:t<0?-1:0}},{key:"toInt",value:function(t){return t>0?Math.floor(t):Math.ceil(t)}},{key:"cbrt",value:function(t){var e=Math.pow(Math.abs(t),1/3);return t<0?-e:e}},{key:"randomTriangular",value:function(e,a){return t.randomTriangularWith(e,a,.5*(e+a))}},{key:"randomTriangularWith",value:function(t,e,a){var n=Math.random(),r=e-t;return n<=(a-t)/r?t+Math.sqrt(n*r*(a-t)):e-Math.sqrt((1-n)*r*(e-a))}}]),t}();u.PI=3.1415927,u.PI2=2*u.PI,u.radiansToDegrees=180/u.PI,u.radDeg=u.radiansToDegrees,u.degreesToRadians=u.PI/180,u.degRad=u.degreesToRadians,e.MathUtils=u;var c=function(){function t(){s(this,t)}return o(t,[{key:"apply",value:function(t,e,a){return t+(e-t)*this.applyInternal(a)}}]),t}();e.Interpolation=c;var f=function(t){function e(t){var a;return s(this,e),(a=n(this,r(e).call(this))).power=2,a.power=t,a}return i(e,t),o(e,[{key:"applyInternal",value:function(t){return t<=.5?Math.pow(2*t,this.power)/2:Math.pow(2*(t-1),this.power)/(this.power%2==0?-2:2)+1}}]),e}(c);e.Pow=f;var d=function(t){function e(t){return s(this,e),n(this,r(e).call(this,t))}return i(e,t),o(e,[{key:"applyInternal",value:function(t){return Math.pow(t-1,this.power)*(this.power%2==0?-1:1)+1}}]),e}(f);e.PowOut=d;var m=function(){function t(){s(this,t)}return o(t,null,[{key:"arrayCopy",value:function(t,e,a,n,r){for(var i=e,s=n;i<e+r;i++,s++)a[s]=t[i]}},{key:"setArraySize",value:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=t.length;if(n==e)return t;if(t.length=e,n<e)for(var r=n;r<e;r++)t[r]=a;return t}},{key:"ensureArrayCapacity",value:function(e,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e.length>=a?e:t.setArraySize(e,a,n)}},{key:"newArray",value:function(t,e){for(var a=new Array(t),n=0;n<t;n++)a[n]=e;return a}},{key:"newFloatArray",value:function(e){if(t.SUPPORTS_TYPED_ARRAYS)return new Float32Array(e);for(var a=new Array(e),n=0;n<a.length;n++)a[n]=0;return a}},{key:"newShortArray",value:function(e){if(t.SUPPORTS_TYPED_ARRAYS)return new Int16Array(e);for(var a=new Array(e),n=0;n<a.length;n++)a[n]=0;return a}},{key:"toFloatArray",value:function(e){return t.SUPPORTS_TYPED_ARRAYS?new Float32Array(e):e}},{key:"toSinglePrecision",value:function(e){return t.SUPPORTS_TYPED_ARRAYS?Math.fround(e):e}},{key:"webkit602BugfixHelper",value:function(t,e){}}]),t}();m.SUPPORTS_TYPED_ARRAYS="undefined"!==typeof Float32Array,e.Utils=m;var v=function(){function t(){s(this,t)}return o(t,null,[{key:"logBones",value:function(t){for(var e=0;e<t.bones.length;e++){var a=t.bones[e],n=a.matrix;console.log(a.data.name+", "+n.a+", "+n.b+", "+n.c+", "+n.d+", "+n.tx+", "+n.ty)}}}]),t}();e.DebugUtils=v;var p=function(){function t(e){s(this,t),this.items=new Array,this.instantiator=e}return o(t,[{key:"obtain",value:function(){return this.items.length>0?this.items.pop():this.instantiator()}},{key:"free",value:function(t){t.reset&&t.reset(),this.items.push(t)}},{key:"freeAll",value:function(t){for(var e=0;e<t.length;e++)t[e].reset&&t[e].reset(),this.items[e]=t[e]}},{key:"clear",value:function(){this.items.length=0}}]),t}();e.Pool=p;var g=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;s(this,t),this.x=e,this.y=a}return o(t,[{key:"set",value:function(t,e){return this.x=t,this.y=e,this}},{key:"length",value:function(){var t=this.x,e=this.y;return Math.sqrt(t*t+e*e)}},{key:"normalize",value:function(){var t=this.length();return 0!=t&&(this.x/=t,this.y/=t),this}}]),t}();e.Vector2=g;var y=function(){function t(){s(this,t),this.maxDelta=.064,this.framesPerSecond=0,this.delta=0,this.totalTime=0,this.lastTime=Date.now()/1e3,this.frameCount=0,this.frameTime=0}return o(t,[{key:"update",value:function(){var t=Date.now()/1e3;this.delta=t-this.lastTime,this.frameTime+=this.delta,this.totalTime+=this.delta,this.delta>this.maxDelta&&(this.delta=this.maxDelta),this.lastTime=t,this.frameCount++,this.frameTime>1&&(this.framesPerSecond=this.frameCount/this.frameTime,this.frameTime=0,this.frameCount=0)}}]),t}();e.TimeKeeper=y;var x=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;s(this,t),this.addedValues=0,this.lastValue=0,this.mean=0,this.dirty=!0,this.values=new Array(e)}return o(t,[{key:"hasEnoughData",value:function(){return this.addedValues>=this.values.length}},{key:"addValue",value:function(t){this.addedValues<this.values.length&&this.addedValues++,this.values[this.lastValue++]=t,this.lastValue>this.values.length-1&&(this.lastValue=0),this.dirty=!0}},{key:"getMean",value:function(){if(this.hasEnoughData()){if(this.dirty){for(var t=0,e=0;e<this.values.length;e++)t+=this.values[e];this.mean=t/this.values.length,this.dirty=!1}return this.mean}return 0}}]),t}();e.WindowedMean=x},,,,,,,,,,,,function(t,e,a){"use strict";var n=a(2),r=a(5),i=a(4),s=a(6),o=a(1);Object.defineProperty(e,"__esModule",{value:!0});var l=function t(e){if(o(this,t),null==e)throw new Error("name cannot be null.");this.name=e};e.Attachment=l;var h=function(t){function e(t){var a;return o(this,e),(a=r(this,i(e).call(this,t))).id=(65535&e.nextID++)<<11,a.worldVerticesLength=0,a}return s(e,t),n(e,[{key:"computeWorldVerticesOld",value:function(t,e){this.computeWorldVertices(t,0,this.worldVerticesLength,e,0,2)}},{key:"computeWorldVertices",value:function(t,e,a,n,r,i){a=r+(a>>1)*i;var s=t.bone.skeleton,o=t.attachmentVertices,l=this.vertices,h=this.bones;if(null!=h){for(var u=0,c=0,f=0;f<e;f+=2){var d=h[u];u+=d+1,c+=d}var m=s.bones;if(0==o.length)for(var v=r,p=3*c;v<a;v+=i){var g=0,y=0,x=h[u++];for(x+=u;u<x;u++,p+=3){var M=m[h[u]].matrix,E=l[p],k=l[p+1],w=l[p+2];g+=(E*M.a+k*M.c+M.tx)*w,y+=(E*M.b+k*M.d+M.ty)*w}n[v]=g,n[v+1]=y}else for(var b=o,T=r,S=3*c,A=c<<1;T<a;T+=i){var R=0,C=0,P=h[u++];for(P+=u;u<P;u++,S+=3,A+=2){var I=m[h[u]].matrix,V=l[S]+b[A],N=l[S+1]+b[A+1],_=l[S+2];R+=(V*I.a+N*I.c+I.tx)*_,C+=(V*I.b+N*I.d+I.ty)*_}n[T]=R,n[T+1]=C}}else{o.length>0&&(l=o);for(var D=t.bone.matrix,O=D.tx,U=D.ty,Y=D.a,F=D.c,X=D.b,L=D.d,B=e,W=r;W<a;B+=2,W+=i){var j=l[B],q=l[B+1];n[W]=j*Y+q*F+O,n[W+1]=j*X+q*L+U}}}},{key:"applyDeform",value:function(t){return this==t}}]),e}(l);h.nextID=0,e.VertexAttachment=h},,,,,,function(t,e,a){"use strict";var n=a(1),r=a(5),i=a(4),s=a(6);Object.defineProperty(e,"__esModule",{value:!0});var o=a(15),l=a(3),h=function(t){function e(t){var a;return n(this,e),(a=r(this,i(e).call(this,t))).closed=!1,a.constantSpeed=!1,a.color=new l.Color(1,1,1,1),a}return s(e,t),e}(o.VertexAttachment);e.PathAttachment=h},function(t,e,a){"use strict";var n=a(1),r=a(2),i=a(5),s=a(4),o=a(6);Object.defineProperty(e,"__esModule",{value:!0});var l=a(15),h=a(3),u=function(t){function e(t){var a;return n(this,e),(a=i(this,s(e).call(this,t))).x=0,a.y=0,a.scaleX=1,a.scaleY=1,a.rotation=0,a.width=0,a.height=0,a.color=new h.Color(1,1,1,1),a.offset=h.Utils.newFloatArray(8),a.uvs=h.Utils.newFloatArray(8),a.tempColor=new h.Color(1,1,1,1),a}return o(e,t),r(e,[{key:"updateOffset",value:function(){var t=this.width/this.region.originalWidth*this.scaleX,a=this.height/this.region.originalHeight*this.scaleY,n=-this.width/2*this.scaleX+this.region.offsetX*t,r=-this.height/2*this.scaleY+this.region.offsetY*a,i=n+this.region.width*t,s=r+this.region.height*a,o=this.rotation*Math.PI/180,l=Math.cos(o),h=Math.sin(o),u=n*l+this.x,c=n*h,f=r*l+this.y,d=r*h,m=i*l+this.x,v=i*h,p=s*l+this.y,g=s*h,y=this.offset;y[e.OX1]=u-d,y[e.OY1]=f+c,y[e.OX2]=u-g,y[e.OY2]=p+c,y[e.OX3]=m-g,y[e.OY3]=p+v,y[e.OX4]=m-d,y[e.OY4]=f+v}},{key:"setRegion",value:function(t){this.region=t;var e=this.uvs;t.rotate?(e[2]=t.u,e[3]=t.v2,e[4]=t.u,e[5]=t.v,e[6]=t.u2,e[7]=t.v,e[0]=t.u2,e[1]=t.v2):(e[0]=t.u,e[1]=t.v2,e[2]=t.u,e[3]=t.v,e[4]=t.u2,e[5]=t.v,e[6]=t.u2,e[7]=t.v2)}},{key:"computeWorldVertices",value:function(t,a,n,r){var i=this.offset,s=t.matrix,o=s.tx,l=s.ty,h=s.a,u=s.c,c=s.b,f=s.d,d=0,m=0;d=i[e.OX1],m=i[e.OY1],a[n]=d*h+m*u+o,a[n+1]=d*c+m*f+l,n+=r,d=i[e.OX2],m=i[e.OY2],a[n]=d*h+m*u+o,a[n+1]=d*c+m*f+l,n+=r,d=i[e.OX3],m=i[e.OY3],a[n]=d*h+m*u+o,a[n+1]=d*c+m*f+l,n+=r,d=i[e.OX4],m=i[e.OY4],a[n]=d*h+m*u+o,a[n+1]=d*c+m*f+l}}]),e}(l.Attachment);u.OX1=0,u.OY1=1,u.OX2=2,u.OY2=3,u.OX3=4,u.OY3=5,u.OX4=6,u.OY4=7,u.X1=0,u.Y1=1,u.C1R=2,u.C1G=3,u.C1B=4,u.C1A=5,u.U1=6,u.V1=7,u.X2=8,u.Y2=9,u.C2R=10,u.C2G=11,u.C2B=12,u.C2A=13,u.U2=14,u.V2=15,u.X3=16,u.Y3=17,u.C3R=18,u.C3G=19,u.C3B=20,u.C3A=21,u.U3=22,u.V3=23,u.X4=24,u.Y4=25,u.C4R=26,u.C4G=27,u.C4B=28,u.C4A=29,u.U4=30,u.V4=31,e.RegionAttachment=u},function(t,e,a){"use strict";var n=a(1),r=a(2),i=a(5),s=a(4),o=a(6);Object.defineProperty(e,"__esModule",{value:!0});var l=a(15),h=a(3),u=function(t){function e(t){var a;return n(this,e),(a=i(this,s(e).call(this,t))).color=new h.Color(1,1,1,1),a.inheritDeform=!1,a.tempColor=new h.Color(0,0,0,0),a}return o(e,t),r(e,[{key:"updateUVs",value:function(t,e){var a=this.regionUVs.length;if(e&&e.length==a||(e=h.Utils.newFloatArray(a)),null!=t){for(var n=t.texture._uvs,r=t.width,i=t.height,s=t.originalWidth,o=t.originalHeight,l=t.offsetX,u=t.pixiOffsetY,c=0;c<a;c+=2){var f=this.regionUVs[c],d=this.regionUVs[c+1];f=(f*s-l)/r,d=(d*o-u)/i,e[c]=(n.x0*(1-f)+n.x1*f)*(1-d)+(n.x3*(1-f)+n.x2*f)*d,e[c+1]=(n.y0*(1-f)+n.y1*f)*(1-d)+(n.y3*(1-f)+n.y2*f)*d}return e}}},{key:"applyDeform",value:function(t){return this==t||this.inheritDeform&&this.parentMesh==t}},{key:"getParentMesh",value:function(){return this.parentMesh}},{key:"setParentMesh",value:function(t){this.parentMesh=t,null!=t&&(this.bones=t.bones,this.vertices=t.vertices,this.worldVerticesLength=t.worldVerticesLength,this.regionUVs=t.regionUVs,this.triangles=t.triangles,this.hullLength=t.hullLength,this.worldVerticesLength=t.worldVerticesLength)}}]),e}(l.VertexAttachment);e.MeshAttachment=u},,,,function(t,e,a){"use strict";var n=a(1),r=a(2);Object.defineProperty(e,"__esModule",{value:!0});var i=a(28),s=a(3),o=a(7),l=function(){function t(e,a,r){if(n(this,t),this.matrix=new o.Matrix,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,null==e)throw new Error("data cannot be null.");if(null==a)throw new Error("skeleton cannot be null.");this.data=e,this.skeleton=a,this.parent=r,this.setToSetupPose()}return r(t,[{key:"update",value:function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)}},{key:"updateWorldTransform",value:function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)}},{key:"updateWorldTransformWith",value:function(e,a,n,r,o,l,h){this.ax=e,this.ay=a,this.arotation=n,this.ascaleX=r,this.ascaleY=o,this.ashearX=l,this.ashearY=h,this.appliedValid=!0;var u=this.parent,c=this.matrix,f=this.skeleton.scaleX,d=t.yDown?-this.skeleton.scaleY:this.skeleton.scaleY;if(null==u){t.yDown&&(n=-n,this.arotation=n);var m=this.skeleton,v=n+90+h;return c.a=s.MathUtils.cosDeg(n+l)*r*f,c.c=s.MathUtils.cosDeg(v)*o*d,c.b=s.MathUtils.sinDeg(n+l)*r*f,c.d=s.MathUtils.sinDeg(v)*o*d,c.tx=e*f+m.x,void(c.ty=a*d+m.y)}var p=u.matrix.a,g=u.matrix.c,y=u.matrix.b,x=u.matrix.d;switch(c.tx=p*e+g*a+u.matrix.tx,c.ty=y*e+x*a+u.matrix.ty,this.data.transformMode){case i.TransformMode.Normal:var M=n+90+h,E=s.MathUtils.cosDeg(n+l)*r,k=s.MathUtils.cosDeg(M)*o,w=s.MathUtils.sinDeg(n+l)*r,b=s.MathUtils.sinDeg(M)*o;return c.a=p*E+g*w,c.c=p*k+g*b,c.b=y*E+x*w,void(c.d=y*k+x*b);case i.TransformMode.OnlyTranslation:var T=n+90+h;c.a=s.MathUtils.cosDeg(n+l)*r,c.c=s.MathUtils.cosDeg(T)*o,c.b=s.MathUtils.sinDeg(n+l)*r,c.d=s.MathUtils.sinDeg(T)*o;break;case i.TransformMode.NoRotationOrReflection:var S=p*p+y*y,A=0;S>1e-4?(g=y*(S=Math.abs(p*x-g*y)/S),x=p*S,A=Math.atan2(y,p)*s.MathUtils.radDeg):(p=0,y=0,A=90-Math.atan2(x,g)*s.MathUtils.radDeg);var R=n+l-A,C=n+h-A+90,P=s.MathUtils.cosDeg(R)*r,I=s.MathUtils.cosDeg(C)*o,V=s.MathUtils.sinDeg(R)*r,N=s.MathUtils.sinDeg(C)*o;c.a=p*P-g*V,c.c=p*I-g*N,c.b=y*P+x*V,c.d=y*I+x*N;break;case i.TransformMode.NoScale:case i.TransformMode.NoScaleOrReflection:var _=s.MathUtils.cosDeg(n),D=s.MathUtils.sinDeg(n),O=(p*_+g*D)/f,U=(y*_+x*D)/d,Y=Math.sqrt(O*O+U*U);Y>1e-5&&(Y=1/Y),O*=Y,U*=Y,Y=Math.sqrt(O*O+U*U),this.data.transformMode==i.TransformMode.NoScale&&p*x-g*y<0!=(t.yDown?this.skeleton.scaleX<0!=this.skeleton.scaleY>0:this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(Y=-Y);var F=Math.PI/2+Math.atan2(U,O),X=Math.cos(F)*Y,L=Math.sin(F)*Y,B=s.MathUtils.cosDeg(l)*r,W=s.MathUtils.cosDeg(90+h)*o,j=s.MathUtils.sinDeg(l)*r,q=s.MathUtils.sinDeg(90+h)*o;c.a=O*B+X*j,c.c=O*W+X*q,c.b=U*B+L*j,c.d=U*W+L*q}c.a*=f,c.c*=f,c.b*=d,c.d*=d}},{key:"setToSetupPose",value:function(){var t=this.data;this.x=t.x,this.y=t.y,this.rotation=t.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this.shearX=t.shearX,this.shearY=t.shearY}},{key:"getWorldRotationX",value:function(){return Math.atan2(this.matrix.b,this.matrix.a)*s.MathUtils.radDeg}},{key:"getWorldRotationY",value:function(){return Math.atan2(this.matrix.d,this.matrix.c)*s.MathUtils.radDeg}},{key:"getWorldScaleX",value:function(){var t=this.matrix;return Math.sqrt(t.a*t.a+t.c*t.c)}},{key:"getWorldScaleY",value:function(){var t=this.matrix;return Math.sqrt(t.b*t.b+t.d*t.d)}},{key:"updateAppliedTransform",value:function(){this.appliedValid=!0;var t=this.parent,e=this.matrix;if(null==t)return this.ax=e.tx,this.ay=e.ty,this.arotation=Math.atan2(e.b,e.a)*s.MathUtils.radDeg,this.ascaleX=Math.sqrt(e.a*e.a+e.b*e.b),this.ascaleY=Math.sqrt(e.c*e.c+e.d*e.d),this.ashearX=0,void(this.ashearY=Math.atan2(e.a*e.c+e.b*e.d,e.a*e.d-e.b*e.c)*s.MathUtils.radDeg);var a=t.matrix,n=1/(a.a*a.d-a.b*a.c),r=e.tx-a.tx,i=e.ty-a.ty;this.ax=r*a.d*n-i*a.c*n,this.ay=i*a.a*n-r*a.b*n;var o=n*a.d,l=n*a.a,h=n*a.c,u=n*a.b,c=o*e.a-h*e.b,f=o*e.c-h*e.d,d=l*e.b-u*e.a,m=l*e.d-u*e.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(c*c+d*d),this.ascaleX>1e-4){var v=c*m-f*d;this.ascaleY=v/this.ascaleX,this.ashearY=Math.atan2(c*f+d*m,v)*s.MathUtils.radDeg,this.arotation=Math.atan2(d,c)*s.MathUtils.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(f*f+m*m),this.ashearY=0,this.arotation=90-Math.atan2(m,f)*s.MathUtils.radDeg}},{key:"worldToLocal",value:function(t){var e=this.matrix,a=e.a,n=e.c,r=e.b,i=e.d,s=1/(a*i-n*r),o=t.x-e.tx,l=t.y-e.ty;return t.x=o*i*s-l*n*s,t.y=l*a*s-o*r*s,t}},{key:"localToWorld",value:function(t){var e=this.matrix,a=t.x,n=t.y;return t.x=a*e.a+n*e.c+e.tx,t.y=a*e.b+n*e.d+e.ty,t}},{key:"worldToLocalRotation",value:function(t){var e=s.MathUtils.sinDeg(t),a=s.MathUtils.cosDeg(t),n=this.matrix;return Math.atan2(n.a*e-n.b*a,n.d*a-n.c*e)*s.MathUtils.radDeg}},{key:"localToWorldRotation",value:function(t){var e=s.MathUtils.sinDeg(t),a=s.MathUtils.cosDeg(t),n=this.matrix;return Math.atan2(a*n.b+e*n.d,a*n.a+e*n.c)*s.MathUtils.radDeg}},{key:"rotateWorld",value:function(t){var e=this.matrix,a=e.a,n=e.c,r=e.b,i=e.d,o=s.MathUtils.cosDeg(t),l=s.MathUtils.sinDeg(t);e.a=o*a-l*r,e.c=o*n-l*i,e.b=l*a+o*r,e.d=l*n+o*i,this.appliedValid=!1}},{key:"worldX",get:function(){return this.matrix.tx}},{key:"worldY",get:function(){return this.matrix.ty}}]),t}();l.yDown=!1,e.Bone=l},function(t,e,a){"use strict";var n=a(1);Object.defineProperty(e,"__esModule",{value:!0});var r;e.BoneData=function t(e,a,i){if(n(this,t),this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=r.Normal,e<0)throw new Error("index must be >= 0.");if(null==a)throw new Error("name cannot be null.");this.index=e,this.name=a,this.parent=i},function(t){t[t.Normal=0]="Normal",t[t.OnlyTranslation=1]="OnlyTranslation",t[t.NoRotationOrReflection=2]="NoRotationOrReflection",t[t.NoScale=3]="NoScale",t[t.NoScaleOrReflection=4]="NoScaleOrReflection"}(r=e.TransformMode||(e.TransformMode={}))},function(t,e,a){"use strict";var n=a(1),r=a(2);Object.defineProperty(e,"__esModule",{value:!0});var i,s,o=a(7),l=function(){function t(e){n(this,t),this._image=e}return r(t,[{key:"getImage",value:function(){return this._image}}],[{key:"filterFromString",value:function(t){switch(t.toLowerCase()){case"nearest":return i.Nearest;case"linear":return i.Linear;case"mipmap":return i.MipMap;case"mipmapnearestnearest":return i.MipMapNearestNearest;case"mipmaplinearnearest":return i.MipMapLinearNearest;case"mipmapnearestlinear":return i.MipMapNearestLinear;case"mipmaplinearlinear":return i.MipMapLinearLinear;default:throw new Error("Unknown texture filter ".concat(t))}}},{key:"wrapFromString",value:function(t){switch(t.toLowerCase()){case"mirroredtepeat":return s.MirroredRepeat;case"clamptoedge":return s.ClampToEdge;case"repeat":return s.Repeat;default:throw new Error("Unknown texture wrap ".concat(t))}}}]),t}();e.Texture=l,function(t){t[t.Nearest=9728]="Nearest",t[t.Linear=9729]="Linear",t[t.MipMap=9987]="MipMap",t[t.MipMapNearestNearest=9984]="MipMapNearestNearest",t[t.MipMapLinearNearest=9985]="MipMapLinearNearest",t[t.MipMapNearestLinear=9986]="MipMapNearestLinear",t[t.MipMapLinearLinear=9987]="MipMapLinearLinear"}(i=e.TextureFilter||(e.TextureFilter={})),function(t){t[t.MirroredRepeat=33648]="MirroredRepeat",t[t.ClampToEdge=33071]="ClampToEdge",t[t.Repeat=10497]="Repeat"}(s=e.TextureWrap||(e.TextureWrap={}));var h=function(){function t(){n(this,t),this.size=null}return r(t,[{key:"width",get:function(){var t=this.texture;return"3"==o.VERSION[0]?t.crop.width:t.trim?t.trim.width:t.orig.width}},{key:"height",get:function(){var t=this.texture;return"3"==o.VERSION[0]?t.crop.height:t.trim?t.trim.height:t.orig.height}},{key:"u",get:function(){return this.texture._uvs.x0}},{key:"v",get:function(){return this.texture._uvs.y0}},{key:"u2",get:function(){return this.texture._uvs.x2}},{key:"v2",get:function(){return this.texture._uvs.y2}},{key:"offsetX",get:function(){var t=this.texture;return t.trim?t.trim.x:0}},{key:"offsetY",get:function(){return console.warn("Deprecation Warning: @Hackerham: I guess, if you are using PIXI-SPINE ATLAS region.offsetY, you want a texture, right? Use region.texture from now on."),this.spineOffsetY}},{key:"pixiOffsetY",get:function(){var t=this.texture;return t.trim?t.trim.y:0}},{key:"spineOffsetY",get:function(){var t=this.texture;return this.originalHeight-this.height-(t.trim?t.trim.y:0)}},{key:"originalWidth",get:function(){var t=this.texture;return"3"==o.VERSION[0]?t.trim?t.trim.width:t.crop.width:t.orig.width}},{key:"originalHeight",get:function(){var t=this.texture;return"3"==o.VERSION[0]?t.trim?t.trim.height:t.crop.height:t.orig.height}},{key:"x",get:function(){return this.texture.frame.x}},{key:"y",get:function(){return this.texture.frame.y}},{key:"rotate",get:function(){return 0!==this.texture.rotate}}]),t}();e.TextureRegion=h},function(t,e,a){"use strict";var n=a(1);Object.defineProperty(e,"__esModule",{value:!0});e.PathConstraintData=function t(e){n(this,t),this.order=0,this.bones=new Array,this.name=e},function(t){t[t.Fixed=0]="Fixed",t[t.Percent=1]="Percent"}(e.PositionMode||(e.PositionMode={})),function(t){t[t.Length=0]="Length",t[t.Fixed=1]="Fixed",t[t.Percent=2]="Percent"}(e.SpacingMode||(e.SpacingMode={})),function(t){t[t.Tangent=0]="Tangent",t[t.Chain=1]="Chain",t[t.ChainScale=2]="ChainScale"}(e.RotateMode||(e.RotateMode={}))},function(t,e,a){"use strict";var n=a(5),r=a(4),i=a(6),s=a(1),o=a(2);Object.defineProperty(e,"__esModule",{value:!0});var l,h,u,c=a(3),f=a(15),d=function(){function t(e,a,n){if(s(this,t),null==e)throw new Error("name cannot be null.");if(null==a)throw new Error("timelines cannot be null.");this.name=e,this.timelines=a,this.duration=n}return o(t,[{key:"apply",value:function(t,e,a,n,r,i,s,o){if(null==t)throw new Error("skeleton cannot be null.");n&&0!=this.duration&&(a%=this.duration,e>0&&(e%=this.duration));for(var l=this.timelines,h=0,u=l.length;h<u;h++)l[h].apply(t,e,a,r,i,s,o)}}],[{key:"binarySearch",value:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=0,r=t.length/a-2;if(0==r)return a;for(var i=r>>>1;;){if(t[(i+1)*a]<=e?n=i+1:r=i,n==r)return(n+1)*a;i=n+r>>>1}}},{key:"linearSearch",value:function(t,e,a){for(var n=0,r=t.length-a;n<=r;n+=a)if(t[n]>e)return n;return-1}}]),t}();e.Animation=d,function(t){t[t.setup=0]="setup",t[t.first=1]="first",t[t.replace=2]="replace",t[t.add=3]="add"}(l=e.MixBlend||(e.MixBlend={})),function(t){t[t.in=0]="in",t[t.out=1]="out"}(h=e.MixDirection||(e.MixDirection={})),function(t){t[t.rotate=0]="rotate",t[t.translate=1]="translate",t[t.scale=2]="scale",t[t.shear=3]="shear",t[t.attachment=4]="attachment",t[t.color=5]="color",t[t.deform=6]="deform",t[t.event=7]="event",t[t.drawOrder=8]="drawOrder",t[t.ikConstraint=9]="ikConstraint",t[t.transformConstraint=10]="transformConstraint",t[t.pathConstraintPosition=11]="pathConstraintPosition",t[t.pathConstraintSpacing=12]="pathConstraintSpacing",t[t.pathConstraintMix=13]="pathConstraintMix",t[t.twoColor=14]="twoColor"}(u=e.TimelineType||(e.TimelineType={}));var m=function(){function t(e){if(s(this,t),e<=0)throw new Error("frameCount must be > 0: "+e);this.curves=c.Utils.newFloatArray((e-1)*t.BEZIER_SIZE)}return o(t,[{key:"getFrameCount",value:function(){return this.curves.length/t.BEZIER_SIZE+1}},{key:"setLinear",value:function(e){this.curves[e*t.BEZIER_SIZE]=t.LINEAR}},{key:"setStepped",value:function(e){this.curves[e*t.BEZIER_SIZE]=t.STEPPED}},{key:"getCurveType",value:function(e){var a=e*t.BEZIER_SIZE;if(a==this.curves.length)return t.LINEAR;var n=this.curves[a];return n==t.LINEAR?t.LINEAR:n==t.STEPPED?t.STEPPED:t.BEZIER}},{key:"setCurve",value:function(e,a,n,r,i){var s=.03*(2*-a+r),o=.03*(2*-n+i),l=.006*(3*(a-r)+1),h=.006*(3*(n-i)+1),u=2*s+l,c=2*o+h,f=.3*a+s+.16666667*l,d=.3*n+o+.16666667*h,m=e*t.BEZIER_SIZE,v=this.curves;v[m++]=t.BEZIER;for(var p=f,g=d,y=m+t.BEZIER_SIZE-1;m<y;m+=2)v[m]=p,v[m+1]=g,f+=u,d+=c,u+=l,c+=h,p+=f,g+=d}},{key:"getCurvePercent",value:function(e,a){a=c.MathUtils.clamp(a,0,1);var n=this.curves,r=e*t.BEZIER_SIZE,i=n[r];if(i==t.LINEAR)return a;if(i==t.STEPPED)return 0;for(var s=0,o=++r,l=r+t.BEZIER_SIZE-1;r<l;r+=2)if((s=n[r])>=a){var h=void 0,u=void 0;return r==o?(h=0,u=0):(h=n[r-2],u=n[r-1]),u+(n[r+1]-u)*(a-h)/(s-h)}var f=n[r-1];return f+(1-f)*(a-s)/(1-s)}}]),t}();m.LINEAR=0,m.STEPPED=1,m.BEZIER=2,m.BEZIER_SIZE=19,e.CurveTimeline=m;var v=function(t){function e(t){var a;return s(this,e),(a=n(this,r(e).call(this,t))).frames=c.Utils.newFloatArray(t<<1),a}return i(e,t),o(e,[{key:"getPropertyId",value:function(){return(u.rotate<<24)+this.boneIndex}},{key:"setFrame",value:function(t,a,n){t<<=1,this.frames[t]=a,this.frames[t+e.ROTATION]=n}},{key:"apply",value:function(t,a,n,r,i,s,o){var h=this.frames,u=t.bones[this.boneIndex];if(n<h[0])switch(s){case l.setup:return void(u.rotation=u.data.rotation);case l.first:var c=u.data.rotation-u.rotation;u.rotation+=(c-360*(16384-(16384.499999999996-c/360|0)))*i}else if(n>=h[h.length-e.ENTRIES]){var f=h[h.length+e.PREV_ROTATION];switch(s){case l.setup:u.rotation=u.data.rotation+f*i;break;case l.first:case l.replace:f+=u.data.rotation-u.rotation,f-=360*(16384-(16384.499999999996-f/360|0));case l.add:u.rotation+=f*i}}else{var m=d.binarySearch(h,n,e.ENTRIES),v=h[m+e.PREV_ROTATION],p=h[m],g=this.getCurvePercent((m>>1)-1,1-(n-p)/(h[m+e.PREV_TIME]-p)),y=h[m+e.ROTATION]-v;switch(y=v+(y-360*(16384-(16384.499999999996-y/360|0)))*g,s){case l.setup:u.rotation=u.data.rotation+(y-360*(16384-(16384.499999999996-y/360|0)))*i;break;case l.first:case l.replace:y+=u.data.rotation-u.rotation;case l.add:u.rotation+=(y-360*(16384-(16384.499999999996-y/360|0)))*i}}}}]),e}(m);v.ENTRIES=2,v.PREV_TIME=-2,v.PREV_ROTATION=-1,v.ROTATION=1,e.RotateTimeline=v;var p=function(t){function e(t){var a;return s(this,e),(a=n(this,r(e).call(this,t))).frames=c.Utils.newFloatArray(t*e.ENTRIES),a}return i(e,t),o(e,[{key:"getPropertyId",value:function(){return(u.translate<<24)+this.boneIndex}},{key:"setFrame",value:function(t,a,n,r){t*=e.ENTRIES,this.frames[t]=a,this.frames[t+e.X]=n,this.frames[t+e.Y]=r}},{key:"apply",value:function(t,a,n,r,i,s,o){var h=this.frames,u=t.bones[this.boneIndex];if(n<h[0])switch(s){case l.setup:return u.x=u.data.x,void(u.y=u.data.y);case l.first:u.x+=(u.data.x-u.x)*i,u.y+=(u.data.y-u.y)*i}else{var c=0,f=0;if(n>=h[h.length-e.ENTRIES])c=h[h.length+e.PREV_X],f=h[h.length+e.PREV_Y];else{var m=d.binarySearch(h,n,e.ENTRIES);c=h[m+e.PREV_X],f=h[m+e.PREV_Y];var v=h[m],p=this.getCurvePercent(m/e.ENTRIES-1,1-(n-v)/(h[m+e.PREV_TIME]-v));c+=(h[m+e.X]-c)*p,f+=(h[m+e.Y]-f)*p}switch(s){case l.setup:u.x=u.data.x+c*i,u.y=u.data.y+f*i;break;case l.first:case l.replace:u.x+=(u.data.x+c-u.x)*i,u.y+=(u.data.y+f-u.y)*i;break;case l.add:u.x+=c*i,u.y+=f*i}}}}]),e}(m);p.ENTRIES=3,p.PREV_TIME=-3,p.PREV_X=-2,p.PREV_Y=-1,p.X=1,p.Y=2,e.TranslateTimeline=p;var g=function(t){function e(t){return s(this,e),n(this,r(e).call(this,t))}return i(e,t),o(e,[{key:"getPropertyId",value:function(){return(u.scale<<24)+this.boneIndex}},{key:"apply",value:function(t,a,n,r,i,s,o){var u=this.frames,f=t.bones[this.boneIndex];if(n<u[0])switch(s){case l.setup:return f.scaleX=f.data.scaleX,void(f.scaleY=f.data.scaleY);case l.first:f.scaleX+=(f.data.scaleX-f.scaleX)*i,f.scaleY+=(f.data.scaleY-f.scaleY)*i}else{var m=0,v=0;if(n>=u[u.length-e.ENTRIES])m=u[u.length+e.PREV_X]*f.data.scaleX,v=u[u.length+e.PREV_Y]*f.data.scaleY;else{var p=d.binarySearch(u,n,e.ENTRIES);m=u[p+e.PREV_X],v=u[p+e.PREV_Y];var g=u[p],y=this.getCurvePercent(p/e.ENTRIES-1,1-(n-g)/(u[p+e.PREV_TIME]-g));m=(m+(u[p+e.X]-m)*y)*f.data.scaleX,v=(v+(u[p+e.Y]-v)*y)*f.data.scaleY}if(1==i)s==l.add?(f.scaleX+=m-f.data.scaleX,f.scaleY+=v-f.data.scaleY):(f.scaleX=m,f.scaleY=v);else{var x=0,M=0;if(o==h.out)switch(s){case l.setup:x=f.data.scaleX,M=f.data.scaleY,f.scaleX=x+(Math.abs(m)*c.MathUtils.signum(x)-x)*i,f.scaleY=M+(Math.abs(v)*c.MathUtils.signum(M)-M)*i;break;case l.first:case l.replace:x=f.scaleX,M=f.scaleY,f.scaleX=x+(Math.abs(m)*c.MathUtils.signum(x)-x)*i,f.scaleY=M+(Math.abs(v)*c.MathUtils.signum(M)-M)*i;break;case l.add:x=f.scaleX,M=f.scaleY,f.scaleX=x+(Math.abs(m)*c.MathUtils.signum(x)-f.data.scaleX)*i,f.scaleY=M+(Math.abs(v)*c.MathUtils.signum(M)-f.data.scaleY)*i}else switch(s){case l.setup:x=Math.abs(f.data.scaleX)*c.MathUtils.signum(m),M=Math.abs(f.data.scaleY)*c.MathUtils.signum(v),f.scaleX=x+(m-x)*i,f.scaleY=M+(v-M)*i;break;case l.first:case l.replace:x=Math.abs(f.scaleX)*c.MathUtils.signum(m),M=Math.abs(f.scaleY)*c.MathUtils.signum(v),f.scaleX=x+(m-x)*i,f.scaleY=M+(v-M)*i;break;case l.add:x=c.MathUtils.signum(m),M=c.MathUtils.signum(v),f.scaleX=Math.abs(f.scaleX)*x+(m-Math.abs(f.data.scaleX)*x)*i,f.scaleY=Math.abs(f.scaleY)*M+(v-Math.abs(f.data.scaleY)*M)*i}}}}}]),e}(p);e.ScaleTimeline=g;var y=function(t){function e(t){return s(this,e),n(this,r(e).call(this,t))}return i(e,t),o(e,[{key:"getPropertyId",value:function(){return(u.shear<<24)+this.boneIndex}},{key:"apply",value:function(t,a,n,r,i,s,o){var h=this.frames,u=t.bones[this.boneIndex];if(n<h[0])switch(s){case l.setup:return u.shearX=u.data.shearX,void(u.shearY=u.data.shearY);case l.first:u.shearX+=(u.data.shearX-u.shearX)*i,u.shearY+=(u.data.shearY-u.shearY)*i}else{var c=0,f=0;if(n>=h[h.length-e.ENTRIES])c=h[h.length+e.PREV_X],f=h[h.length+e.PREV_Y];else{var m=d.binarySearch(h,n,e.ENTRIES);c=h[m+e.PREV_X],f=h[m+e.PREV_Y];var v=h[m],p=this.getCurvePercent(m/e.ENTRIES-1,1-(n-v)/(h[m+e.PREV_TIME]-v));c+=(h[m+e.X]-c)*p,f+=(h[m+e.Y]-f)*p}switch(s){case l.setup:u.shearX=u.data.shearX+c*i,u.shearY=u.data.shearY+f*i;break;case l.first:case l.replace:u.shearX+=(u.data.shearX+c-u.shearX)*i,u.shearY+=(u.data.shearY+f-u.shearY)*i;break;case l.add:u.shearX+=c*i,u.shearY+=f*i}}}}]),e}(p);e.ShearTimeline=y;var x=function(t){function e(t){var a;return s(this,e),(a=n(this,r(e).call(this,t))).frames=c.Utils.newFloatArray(t*e.ENTRIES),a}return i(e,t),o(e,[{key:"getPropertyId",value:function(){return(u.color<<24)+this.slotIndex}},{key:"setFrame",value:function(t,a,n,r,i,s){t*=e.ENTRIES,this.frames[t]=a,this.frames[t+e.R]=n,this.frames[t+e.G]=r,this.frames[t+e.B]=i,this.frames[t+e.A]=s}},{key:"apply",value:function(t,a,n,r,i,s,o){var h=t.slots[this.slotIndex],u=this.frames;if(n<u[0])switch(s){case l.setup:return void h.color.setFromColor(h.data.color);case l.first:var c=h.color,f=h.data.color;c.add((f.r-c.r)*i,(f.g-c.g)*i,(f.b-c.b)*i,(f.a-c.a)*i)}else{var m=0,v=0,p=0,g=0;if(n>=u[u.length-e.ENTRIES]){var y=u.length;m=u[y+e.PREV_R],v=u[y+e.PREV_G],p=u[y+e.PREV_B],g=u[y+e.PREV_A]}else{var x=d.binarySearch(u,n,e.ENTRIES);m=u[x+e.PREV_R],v=u[x+e.PREV_G],p=u[x+e.PREV_B],g=u[x+e.PREV_A];var M=u[x],E=this.getCurvePercent(x/e.ENTRIES-1,1-(n-M)/(u[x+e.PREV_TIME]-M));m+=(u[x+e.R]-m)*E,v+=(u[x+e.G]-v)*E,p+=(u[x+e.B]-p)*E,g+=(u[x+e.A]-g)*E}if(1==i)h.color.set(m,v,p,g);else{var k=h.color;s==l.setup&&k.setFromColor(h.data.color),k.add((m-k.r)*i,(v-k.g)*i,(p-k.b)*i,(g-k.a)*i)}}}}]),e}(m);x.ENTRIES=5,x.PREV_TIME=-5,x.PREV_R=-4,x.PREV_G=-3,x.PREV_B=-2,x.PREV_A=-1,x.R=1,x.G=2,x.B=3,x.A=4,e.ColorTimeline=x;var M=function(t){function e(t){var a;return s(this,e),(a=n(this,r(e).call(this,t))).frames=c.Utils.newFloatArray(t*e.ENTRIES),a}return i(e,t),o(e,[{key:"getPropertyId",value:function(){return(u.twoColor<<24)+this.slotIndex}},{key:"setFrame",value:function(t,a,n,r,i,s,o,l,h){t*=e.ENTRIES,this.frames[t]=a,this.frames[t+e.R]=n,this.frames[t+e.G]=r,this.frames[t+e.B]=i,this.frames[t+e.A]=s,this.frames[t+e.R2]=o,this.frames[t+e.G2]=l,this.frames[t+e.B2]=h}},{key:"apply",value:function(t,a,n,r,i,s,o){var h=t.slots[this.slotIndex],u=this.frames;if(n<u[0])switch(s){case l.setup:return h.color.setFromColor(h.data.color),void h.darkColor.setFromColor(h.data.darkColor);case l.first:var c=h.color,f=h.darkColor,m=h.data.color,v=h.data.darkColor;c.add((m.r-c.r)*i,(m.g-c.g)*i,(m.b-c.b)*i,(m.a-c.a)*i),f.add((v.r-f.r)*i,(v.g-f.g)*i,(v.b-f.b)*i,0)}else{var p=0,g=0,y=0,x=0,M=0,E=0,k=0;if(n>=u[u.length-e.ENTRIES]){var w=u.length;p=u[w+e.PREV_R],g=u[w+e.PREV_G],y=u[w+e.PREV_B],x=u[w+e.PREV_A],M=u[w+e.PREV_R2],E=u[w+e.PREV_G2],k=u[w+e.PREV_B2]}else{var b=d.binarySearch(u,n,e.ENTRIES);p=u[b+e.PREV_R],g=u[b+e.PREV_G],y=u[b+e.PREV_B],x=u[b+e.PREV_A],M=u[b+e.PREV_R2],E=u[b+e.PREV_G2],k=u[b+e.PREV_B2];var T=u[b],S=this.getCurvePercent(b/e.ENTRIES-1,1-(n-T)/(u[b+e.PREV_TIME]-T));p+=(u[b+e.R]-p)*S,g+=(u[b+e.G]-g)*S,y+=(u[b+e.B]-y)*S,x+=(u[b+e.A]-x)*S,M+=(u[b+e.R2]-M)*S,E+=(u[b+e.G2]-E)*S,k+=(u[b+e.B2]-k)*S}if(1==i)h.color.set(p,g,y,x),h.darkColor.set(M,E,k,1);else{var A=h.color,R=h.darkColor;s==l.setup&&(A.setFromColor(h.data.color),R.setFromColor(h.data.darkColor)),A.add((p-A.r)*i,(g-A.g)*i,(y-A.b)*i,(x-A.a)*i),R.add((M-R.r)*i,(E-R.g)*i,(k-R.b)*i,0)}}}}]),e}(m);M.ENTRIES=8,M.PREV_TIME=-8,M.PREV_R=-7,M.PREV_G=-6,M.PREV_B=-5,M.PREV_A=-4,M.PREV_R2=-3,M.PREV_G2=-2,M.PREV_B2=-1,M.R=1,M.G=2,M.B=3,M.A=4,M.R2=5,M.G2=6,M.B2=7,e.TwoColorTimeline=M;var E=function(){function t(e){s(this,t),this.frames=c.Utils.newFloatArray(e),this.attachmentNames=new Array(e)}return o(t,[{key:"getPropertyId",value:function(){return(u.attachment<<24)+this.slotIndex}},{key:"getFrameCount",value:function(){return this.frames.length}},{key:"setFrame",value:function(t,e,a){this.frames[t]=e,this.attachmentNames[t]=a}},{key:"apply",value:function(t,e,a,n,r,i,s){var o=t.slots[this.slotIndex];if(s!=h.out||i!=l.setup){var u=this.frames;if(a<u[0]){if(i==l.setup||i==l.first){var c=o.data.attachmentName;o.setAttachment(null==c?null:t.getAttachment(this.slotIndex,c))}}else{var f=0;f=a>=u[u.length-1]?u.length-1:d.binarySearch(u,a,1)-1;var m=this.attachmentNames[f];t.slots[this.slotIndex].setAttachment(null==m?null:t.getAttachment(this.slotIndex,m))}}else{var v=o.data.attachmentName;o.setAttachment(null==v?null:t.getAttachment(this.slotIndex,v))}}}]),t}();e.AttachmentTimeline=E;var k=null,w=function(t){function e(t){var a;return s(this,e),(a=n(this,r(e).call(this,t))).frames=c.Utils.newFloatArray(t),a.frameVertices=new Array(t),null==k&&(k=c.Utils.newFloatArray(64)),a}return i(e,t),o(e,[{key:"getPropertyId",value:function(){return(u.deform<<27)+ +this.attachment.id+this.slotIndex}},{key:"setFrame",value:function(t,e,a){this.frames[t]=e,this.frameVertices[t]=a}},{key:"apply",value:function(t,e,a,n,r,i,s){var o=t.slots[this.slotIndex],h=o.getAttachment();if(h instanceof f.VertexAttachment&&h.applyDeform(this.attachment)){var u=o.attachmentVertices;0==u.length&&(i=l.setup);var m=this.frameVertices,v=m[0].length,p=this.frames;if(a<p[0]){var g=h;switch(i){case l.setup:return void(u.length=0);case l.first:if(1==r){u.length=0;break}var y=c.Utils.setArraySize(u,v);if(null==g.bones)for(var x=g.vertices,M=0;M<v;M++)y[M]+=(x[M]-y[M])*r;else{r=1-r;for(var E=0;E<v;E++)y[E]*=r}}}else{var k=c.Utils.setArraySize(u,v);if(a>=p[p.length-1]){var w=m[p.length-1];if(1==r)if(i==l.add){var b=h;if(null==b.bones)for(var T=b.vertices,S=0;S<v;S++)k[S]+=w[S]-T[S];else for(var A=0;A<v;A++)k[A]+=w[A]}else c.Utils.arrayCopy(w,0,k,0,v);else switch(i){case l.setup:var R=h;if(null==R.bones)for(var C=R.vertices,P=0;P<v;P++){var I=C[P];k[P]=I+(w[P]-I)*r}else for(var V=0;V<v;V++)k[V]=w[V]*r;break;case l.first:case l.replace:for(var N=0;N<v;N++)k[N]+=(w[N]-k[N])*r;case l.add:var _=h;if(null==_.bones)for(var D=_.vertices,O=0;O<v;O++)k[O]+=(w[O]-D[O])*r;else for(var U=0;U<v;U++)k[U]+=w[U]*r}}else{var Y=d.binarySearch(p,a),F=m[Y-1],X=m[Y],L=p[Y],B=this.getCurvePercent(Y-1,1-(a-L)/(p[Y-1]-L));if(1==r)if(i==l.add){var W=h;if(null==W.bones)for(var j=W.vertices,q=0;q<v;q++){var G=F[q];k[q]+=G+(X[q]-G)*B-j[q]}else for(var H=0;H<v;H++){var z=F[H];k[H]+=z+(X[H]-z)*B}}else for(var Z=0;Z<v;Z++){var J=F[Z];k[Z]=J+(X[Z]-J)*B}else switch(i){case l.setup:var Q=h;if(null==Q.bones)for(var K=Q.vertices,$=0;$<v;$++){var tt=F[$],et=K[$];k[$]=et+(tt+(X[$]-tt)*B-et)*r}else for(var at=0;at<v;at++){var nt=F[at];k[at]=(nt+(X[at]-nt)*B)*r}break;case l.first:case l.replace:for(var rt=0;rt<v;rt++){var it=F[rt];k[rt]+=(it+(X[rt]-it)*B-k[rt])*r}break;case l.add:var st=h;if(null==st.bones)for(var ot=st.vertices,lt=0;lt<v;lt++){var ht=F[lt];k[lt]+=(ht+(X[lt]-ht)*B-ot[lt])*r}else for(var ut=0;ut<v;ut++){var ct=F[ut];k[ut]+=(ct+(X[ut]-ct)*B)*r}}}}}}}]),e}(m);e.DeformTimeline=w;var b=function(){function t(e){s(this,t),this.frames=c.Utils.newFloatArray(e),this.events=new Array(e)}return o(t,[{key:"getPropertyId",value:function(){return u.event<<24}},{key:"getFrameCount",value:function(){return this.frames.length}},{key:"setFrame",value:function(t,e){this.frames[t]=e.time,this.events[t]=e}},{key:"apply",value:function(t,e,a,n,r,i,s){if(null!=n){var o=this.frames,l=this.frames.length;if(e>a)this.apply(t,e,Number.MAX_VALUE,n,r,i,s),e=-1;else if(e>=o[l-1])return;if(!(a<o[0])){var h=0;if(e<o[0])h=0;else for(var u=o[h=d.binarySearch(o,e)];h>0&&o[h-1]==u;)h--;for(;h<l&&a>=o[h];h++)n.push(this.events[h])}}}}]),t}();e.EventTimeline=b;var T=function(){function t(e){s(this,t),this.frames=c.Utils.newFloatArray(e),this.drawOrders=new Array(e)}return o(t,[{key:"getPropertyId",value:function(){return u.drawOrder<<24}},{key:"getFrameCount",value:function(){return this.frames.length}},{key:"setFrame",value:function(t,e,a){this.frames[t]=e,this.drawOrders[t]=a}},{key:"apply",value:function(t,e,a,n,r,i,s){var o=t.drawOrder,u=t.slots;if(s!=h.out||i!=l.setup){var f=this.frames;if(a<f[0])i!=l.setup&&i!=l.first||c.Utils.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length);else{var m=0;m=a>=f[f.length-1]?f.length-1:d.binarySearch(f,a)-1;var v=this.drawOrders[m];if(null==v)c.Utils.arrayCopy(u,0,o,0,u.length);else for(var p=0,g=v.length;p<g;p++)o[p]=u[v[p]]}}else c.Utils.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length)}}]),t}();e.DrawOrderTimeline=T;var S=function(t){function e(t){var a;return s(this,e),(a=n(this,r(e).call(this,t))).frames=c.Utils.newFloatArray(t*e.ENTRIES),a}return i(e,t),o(e,[{key:"getPropertyId",value:function(){return(u.ikConstraint<<24)+this.ikConstraintIndex}},{key:"setFrame",value:function(t,a,n,r,i,s){t*=e.ENTRIES,this.frames[t]=a,this.frames[t+e.MIX]=n,this.frames[t+e.BEND_DIRECTION]=r,this.frames[t+e.COMPRESS]=i?1:0,this.frames[t+e.STRETCH]=s?1:0}},{key:"apply",value:function(t,a,n,r,i,s,o){var u=this.frames,c=t.ikConstraints[this.ikConstraintIndex];if(n<u[0])switch(s){case l.setup:return c.mix=c.data.mix,c.bendDirection=c.data.bendDirection,c.compress=c.data.compress,void(c.stretch=c.data.stretch);case l.first:c.mix+=(c.data.mix-c.mix)*i,c.bendDirection=c.data.bendDirection,c.compress=c.data.compress,c.stretch=c.data.stretch}else if(n>=u[u.length-e.ENTRIES])s==l.setup?(c.mix=c.data.mix+(u[u.length+e.PREV_MIX]-c.data.mix)*i,o==h.out?(c.bendDirection=c.data.bendDirection,c.compress=c.data.compress,c.stretch=c.data.stretch):(c.bendDirection=u[u.length+e.PREV_BEND_DIRECTION],c.compress=0!=u[u.length+e.PREV_COMPRESS],c.stretch=0!=u[u.length+e.PREV_STRETCH])):(c.mix+=(u[u.length+e.PREV_MIX]-c.mix)*i,o==h.in&&(c.bendDirection=u[u.length+e.PREV_BEND_DIRECTION],c.compress=0!=u[u.length+e.PREV_COMPRESS],c.stretch=0!=u[u.length+e.PREV_STRETCH]));else{var f=d.binarySearch(u,n,e.ENTRIES),m=u[f+e.PREV_MIX],v=u[f],p=this.getCurvePercent(f/e.ENTRIES-1,1-(n-v)/(u[f+e.PREV_TIME]-v));s==l.setup?(c.mix=c.data.mix+(m+(u[f+e.MIX]-m)*p-c.data.mix)*i,o==h.out?(c.bendDirection=c.data.bendDirection,c.compress=c.data.compress,c.stretch=c.data.stretch):(c.bendDirection=u[f+e.PREV_BEND_DIRECTION],c.compress=0!=u[f+e.PREV_COMPRESS],c.stretch=0!=u[f+e.PREV_STRETCH])):(c.mix+=(m+(u[f+e.MIX]-m)*p-c.mix)*i,o==h.in&&(c.bendDirection=u[f+e.PREV_BEND_DIRECTION],c.compress=0!=u[f+e.PREV_COMPRESS],c.stretch=0!=u[f+e.PREV_STRETCH]))}}}]),e}(m);S.ENTRIES=5,S.PREV_TIME=-5,S.PREV_MIX=-4,S.PREV_BEND_DIRECTION=-3,S.PREV_COMPRESS=-2,S.PREV_STRETCH=-1,S.MIX=1,S.BEND_DIRECTION=2,S.COMPRESS=3,S.STRETCH=4,e.IkConstraintTimeline=S;var A=function(t){function e(t){var a;return s(this,e),(a=n(this,r(e).call(this,t))).frames=c.Utils.newFloatArray(t*e.ENTRIES),a}return i(e,t),o(e,[{key:"getPropertyId",value:function(){return(u.transformConstraint<<24)+this.transformConstraintIndex}},{key:"setFrame",value:function(t,a,n,r,i,s){t*=e.ENTRIES,this.frames[t]=a,this.frames[t+e.ROTATE]=n,this.frames[t+e.TRANSLATE]=r,this.frames[t+e.SCALE]=i,this.frames[t+e.SHEAR]=s}},{key:"apply",value:function(t,a,n,r,i,s,o){var h=this.frames,u=t.transformConstraints[this.transformConstraintIndex];if(n<h[0]){var c=u.data;switch(s){case l.setup:return u.rotateMix=c.rotateMix,u.translateMix=c.translateMix,u.scaleMix=c.scaleMix,void(u.shearMix=c.shearMix);case l.first:u.rotateMix+=(c.rotateMix-u.rotateMix)*i,u.translateMix+=(c.translateMix-u.translateMix)*i,u.scaleMix+=(c.scaleMix-u.scaleMix)*i,u.shearMix+=(c.shearMix-u.shearMix)*i}}else{var f=0,m=0,v=0,p=0;if(n>=h[h.length-e.ENTRIES]){var g=h.length;f=h[g+e.PREV_ROTATE],m=h[g+e.PREV_TRANSLATE],v=h[g+e.PREV_SCALE],p=h[g+e.PREV_SHEAR]}else{var y=d.binarySearch(h,n,e.ENTRIES);f=h[y+e.PREV_ROTATE],m=h[y+e.PREV_TRANSLATE],v=h[y+e.PREV_SCALE],p=h[y+e.PREV_SHEAR];var x=h[y],M=this.getCurvePercent(y/e.ENTRIES-1,1-(n-x)/(h[y+e.PREV_TIME]-x));f+=(h[y+e.ROTATE]-f)*M,m+=(h[y+e.TRANSLATE]-m)*M,v+=(h[y+e.SCALE]-v)*M,p+=(h[y+e.SHEAR]-p)*M}if(s==l.setup){var E=u.data;u.rotateMix=E.rotateMix+(f-E.rotateMix)*i,u.translateMix=E.translateMix+(m-E.translateMix)*i,u.scaleMix=E.scaleMix+(v-E.scaleMix)*i,u.shearMix=E.shearMix+(p-E.shearMix)*i}else u.rotateMix+=(f-u.rotateMix)*i,u.translateMix+=(m-u.translateMix)*i,u.scaleMix+=(v-u.scaleMix)*i,u.shearMix+=(p-u.shearMix)*i}}}]),e}(m);A.ENTRIES=5,A.PREV_TIME=-5,A.PREV_ROTATE=-4,A.PREV_TRANSLATE=-3,A.PREV_SCALE=-2,A.PREV_SHEAR=-1,A.ROTATE=1,A.TRANSLATE=2,A.SCALE=3,A.SHEAR=4,e.TransformConstraintTimeline=A;var R=function(t){function e(t){var a;return s(this,e),(a=n(this,r(e).call(this,t))).frames=c.Utils.newFloatArray(t*e.ENTRIES),a}return i(e,t),o(e,[{key:"getPropertyId",value:function(){return(u.pathConstraintPosition<<24)+this.pathConstraintIndex}},{key:"setFrame",value:function(t,a,n){t*=e.ENTRIES,this.frames[t]=a,this.frames[t+e.VALUE]=n}},{key:"apply",value:function(t,a,n,r,i,s,o){var h=this.frames,u=t.pathConstraints[this.pathConstraintIndex];if(n<h[0])switch(s){case l.setup:return void(u.position=u.data.position);case l.first:u.position+=(u.data.position-u.position)*i}else{var c=0;if(n>=h[h.length-e.ENTRIES])c=h[h.length+e.PREV_VALUE];else{var f=d.binarySearch(h,n,e.ENTRIES);c=h[f+e.PREV_VALUE];var m=h[f],v=this.getCurvePercent(f/e.ENTRIES-1,1-(n-m)/(h[f+e.PREV_TIME]-m));c+=(h[f+e.VALUE]-c)*v}s==l.setup?u.position=u.data.position+(c-u.data.position)*i:u.position+=(c-u.position)*i}}}]),e}(m);R.ENTRIES=2,R.PREV_TIME=-2,R.PREV_VALUE=-1,R.VALUE=1,e.PathConstraintPositionTimeline=R;var C=function(t){function e(t){return s(this,e),n(this,r(e).call(this,t))}return i(e,t),o(e,[{key:"getPropertyId",value:function(){return(u.pathConstraintSpacing<<24)+this.pathConstraintIndex}},{key:"apply",value:function(t,a,n,r,i,s,o){var h=this.frames,u=t.pathConstraints[this.pathConstraintIndex];if(n<h[0])switch(s){case l.setup:return void(u.spacing=u.data.spacing);case l.first:u.spacing+=(u.data.spacing-u.spacing)*i}else{var c=0;if(n>=h[h.length-e.ENTRIES])c=h[h.length+e.PREV_VALUE];else{var f=d.binarySearch(h,n,e.ENTRIES);c=h[f+e.PREV_VALUE];var m=h[f],v=this.getCurvePercent(f/e.ENTRIES-1,1-(n-m)/(h[f+e.PREV_TIME]-m));c+=(h[f+e.VALUE]-c)*v}s==l.setup?u.spacing=u.data.spacing+(c-u.data.spacing)*i:u.spacing+=(c-u.spacing)*i}}}]),e}(R);e.PathConstraintSpacingTimeline=C;var P=function(t){function e(t){var a;return s(this,e),(a=n(this,r(e).call(this,t))).frames=c.Utils.newFloatArray(t*e.ENTRIES),a}return i(e,t),o(e,[{key:"getPropertyId",value:function(){return(u.pathConstraintMix<<24)+this.pathConstraintIndex}},{key:"setFrame",value:function(t,a,n,r){t*=e.ENTRIES,this.frames[t]=a,this.frames[t+e.ROTATE]=n,this.frames[t+e.TRANSLATE]=r}},{key:"apply",value:function(t,a,n,r,i,s,o){var h=this.frames,u=t.pathConstraints[this.pathConstraintIndex];if(n<h[0])switch(s){case l.setup:return u.rotateMix=u.data.rotateMix,void(u.translateMix=u.data.translateMix);case l.first:u.rotateMix+=(u.data.rotateMix-u.rotateMix)*i,u.translateMix+=(u.data.translateMix-u.translateMix)*i}else{var c=0,f=0;if(n>=h[h.length-e.ENTRIES])c=h[h.length+e.PREV_ROTATE],f=h[h.length+e.PREV_TRANSLATE];else{var m=d.binarySearch(h,n,e.ENTRIES);c=h[m+e.PREV_ROTATE],f=h[m+e.PREV_TRANSLATE];var v=h[m],p=this.getCurvePercent(m/e.ENTRIES-1,1-(n-v)/(h[m+e.PREV_TIME]-v));c+=(h[m+e.ROTATE]-c)*p,f+=(h[m+e.TRANSLATE]-f)*p}s==l.setup?(u.rotateMix=u.data.rotateMix+(c-u.data.rotateMix)*i,u.translateMix=u.data.translateMix+(f-u.data.translateMix)*i):(u.rotateMix+=(c-u.rotateMix)*i,u.translateMix+=(f-u.translateMix)*i)}}}]),e}(m);P.ENTRIES=3,P.PREV_TIME=-3,P.PREV_ROTATE=-2,P.PREV_TRANSLATE=-1,P.ROTATE=1,P.TRANSLATE=2,e.PathConstraintMixTimeline=P},function(t,e,a){"use strict";var n=a(1),r=a(5),i=a(4),s=a(6);Object.defineProperty(e,"__esModule",{value:!0});var o=a(15),l=a(3),h=function(t){function e(t){var a;return n(this,e),(a=r(this,i(e).call(this,t))).color=new l.Color(.2275,.2275,.8078,1),a}return s(e,t),e}(o.VertexAttachment);e.ClippingAttachment=h},function(t,e,a){"use strict";var n=a(1),r=a(2);Object.defineProperty(e,"__esModule",{value:!0});var i=a(71),s=a(72),o=a(81),l=a(7);var h=function(){function t(){n(this,t)}return r(t,null,[{key:"use",value:function(t,e){if(!t.data||!function(t){return t.type===l.LoaderResource.TYPE.JSON}(t)||!t.data.bones)return e();var a=t.metadata||{},n=a?t.metadata.spineSkeletonScale:null,r=a?t.metadata.spineAtlas:null;if(!1===r)return e();if(r&&r.pages){var h=new s.SkeletonJson(new o.AtlasAttachmentLoader(r));n&&(h.scale=n);var f=h.readSkeletonData(t.data);return t.spineData=f,t.spineAtlas=r,e()}var d=a.spineAtlasSuffix||".atlas",m=t.url,v=m.indexOf("?");v>0&&(m=m.substr(0,v)),m=m.substr(0,m.lastIndexOf("."))+d,t.metadata&&t.metadata.spineAtlasFile&&(m=t.metadata.spineAtlasFile),m=m.replace(this.baseUrl,"");var p={crossOrigin:t.crossOrigin,xhrType:l.LoaderResource.XHR_RESPONSE_TYPE.TEXT,metadata:a.spineMetadata||null,parentResource:t},g={crossOrigin:t.crossOrigin,metadata:a.imageMetadata||null,parentResource:t},y=t.url.substr(0,t.url.lastIndexOf("/")+1);y=y.replace(this.baseUrl,"");var x=a.imageNamePrefix||t.name+"_atlas_page_",M=a.images?c(a.images):a.image?c({default:a.image}):a.imageLoader?a.imageLoader(this,x,y,g):u(this,x,y,g),E=function(a){new i.TextureAtlas(a,M,(function(a){if(a){var r=new s.SkeletonJson(new o.AtlasAttachmentLoader(a));n&&(r.scale=n),t.spineData=r.readSkeletonData(t.data),t.spineAtlas=a}e()}))};t.metadata&&t.metadata.atlasRawData?E(t.metadata.atlasRawData):this.add(t.name+"_atlas",m,p,(function(t){t.error?e():E(t.data)}))}}]),t}();function u(t,e,a,n){return a&&a.lastIndexOf("/")!==a.length-1&&(a+="/"),function(r,i){var s=e+r,o=a+r,l=t.resources[s];if(l){var h=function(){i(l.texture.baseTexture)};l.texture?h():l.onAfterMiddleware.add(h)}else t.add(s,o,n,(function(t){t.error?i(null):i(t.texture.baseTexture)}))}}function c(t){return function(e,a){var n=t[e]||t.default;n&&n.baseTexture?a(n.baseTexture):a(n)}}e.AtlasParser=h,e.imageLoaderAdapter=u,e.syncImageLoaderAdapter=function(t,e){return t&&t.lastIndexOf("/")!==t.length-1&&(t+="/"),function(t,a){a(l.BaseTexture.from(t,e))}},e.staticImageLoader=c,l.Loader&&l.Loader.registerPlugin(h)},,,function(t,e,a){"use strict";var n=a(2),r=a(59),i=a(1),s=a(5),o=a(4),l=a(6);Object.defineProperty(e,"__esModule",{value:!0});var h=a(7),u=a(27),c=a(29),f=a(64),d=a(69),m=a(70),v=a(22),p=a(23),g=a(32),y=a(3);a(33),a(84),u.Bone.yDown=!0;var x=[0,0,0],M=a(33);e.AtlasParser=M.AtlasParser;var E=function(t){function e(){var t;return i(this,e),(t=s(this,o(e).apply(this,arguments))).region=null,t}return l(e,t),e}(h.Sprite);e.SpineSprite=E;var k=function(t){function e(t,a,n,r,l){return i(this,e),s(this,o(e).call(this,t,a,n,r,l))}return l(e,t),e}(h.SimpleMesh);e.SpineMesh=k;var w=function(t){function e(t){var a;if(i(this,e),a=s(this,o(e).call(this)),!t)throw new Error("The spineData param is required.");if("string"===typeof t)throw new Error('spineData param cant be string. Please use spine.Spine.fromAtlas("YOUR_RESOURCE_NAME") from now on.');a.spineData=t,a.skeleton=new f.Skeleton(t),a.skeleton.updateWorldTransform(),a.stateData=new d.AnimationStateData(t),a.state=new m.AnimationState(a.stateData),a.slotContainers=[],a.tempClipContainers=[];for(var n=0,r=a.skeleton.slots.length;n<r;n++){var l=a.skeleton.slots[n],h=l.attachment,u=a.newContainer();if(a.slotContainers.push(u),a.addChild(u),a.tempClipContainers.push(null),h instanceof v.RegionAttachment){var c=h.region.name,y=a.createSprite(l,h,c);l.currentSprite=y,l.currentSpriteName=c,u.addChild(y)}else if(h instanceof p.MeshAttachment){var x=a.createMesh(l,h);l.currentMesh=x,l.currentMeshName=h.name,u.addChild(x)}else{if(!(h instanceof g.ClippingAttachment))continue;a.createGraphics(l,h),u.addChild(l.clippingContainer),u.addChild(l.currentGraphics)}}return a.autoUpdate=!0,a.tintRgb=new Float32Array([1,1,1]),a}return l(e,t),n(e,[{key:"update",value:function(t){var e=this.delayLimit;if(t>e&&(t=e),this.state.update(t),this.state.apply(this.skeleton),this.skeleton){this.skeleton.updateWorldTransform();var a=this.skeleton.slots,n=this.color,r=null,i=null;n?(r=n.light,i=n.dark):r=this.tintRgb;for(var s=0,o=a.length;s<o;s++){var l=a[s],u=l.attachment,c=this.slotContainers[s];if(u){var f=null,d=u.color;if(u instanceof v.RegionAttachment){var m=u.region;if(m){l.currentMesh&&(l.currentMesh.visible=!1,l.currentMesh=null,l.currentMeshName=void 0);var y=m;if(!l.currentSpriteName||l.currentSpriteName!==y.name){var M=y.name;if(l.currentSprite&&(l.currentSprite.visible=!1),l.sprites=l.sprites||{},void 0!==l.sprites[M])l.sprites[M].visible=!0;else{var E=this.createSprite(l,u,M);c.addChild(E)}l.currentSprite=l.sprites[M],l.currentSpriteName=M}}c.transform.setFromMatrix(l.bone.matrix),l.currentSprite.color?f=l.currentSprite.color:(x[0]=r[0]*l.color.r*d.r,x[1]=r[1]*l.color.g*d.g,x[2]=r[2]*l.color.b*d.b,l.currentSprite.tint=h.utils.rgb2hex(x)),l.currentSprite.blendMode=l.blendMode}else if(u instanceof p.MeshAttachment){if(l.currentSprite&&(l.currentSprite.visible=!1,l.currentSprite=null,l.currentSpriteName=void 0),!l.currentMeshName||l.currentMeshName!==u.name){var k=u.name;if(l.currentMesh&&(l.currentMesh.visible=!1),l.meshes=l.meshes||{},void 0!==l.meshes[k])l.meshes[k].visible=!0;else{var w=this.createMesh(l,u);c.addChild(w)}l.currentMesh=l.meshes[k],l.currentMeshName=k}u.computeWorldVerticesOld(l,l.currentMesh.vertices),l.currentMesh.color?f=l.currentMesh.color:(x[0]=r[0]*l.color.r*d.r,x[1]=r[1]*l.color.g*d.g,x[2]=r[2]*l.color.b*d.b,l.currentMesh.tint=h.utils.rgb2hex(x)),l.currentMesh.blendMode=l.blendMode}else{if(!(u instanceof g.ClippingAttachment)){c.visible=!1;continue}l.currentGraphics||(this.createGraphics(l,u),c.addChild(l.clippingContainer),c.addChild(l.currentGraphics)),this.updateGraphics(l,u)}if(c.visible=!0,f){var b=l.color.r*d.r,T=l.color.g*d.g,S=l.color.b*d.b;f.setLight(r[0]*b+i[0]*(1-b),r[1]*T+i[1]*(1-T),r[2]*S+i[2]*(1-S)),l.darkColor?(b=l.darkColor.r,T=l.darkColor.g,S=l.darkColor.b):(b=0,T=0,S=0),f.setDark(r[0]*b+i[0]*(1-b),r[1]*T+i[1]*(1-T),r[2]*S+i[2]*(1-S))}c.alpha=l.color.a}else c.visible=!1}for(var A=this.skeleton.drawOrder,R=null,C=null,P=0,I=A.length;P<I;P++){var V=a[A[P].data.index],N=this.slotContainers[A[P].data.index];if(C||null!==N.parent&&N.parent!==this&&(N.parent.removeChild(N),N.parent=this),V.currentGraphics&&V.attachment)C=V.clippingContainer,R=V.attachment,C.children.length=0,this.children[P]=N,R.endSlot==V.data&&(R.endSlot=null);else if(C){var _=this.tempClipContainers[P];_||((_=this.tempClipContainers[P]=this.newContainer()).visible=!1),this.children[P]=_,N.parent=null,C.addChild(N),R.endSlot==V.data&&(C.renderable=!0,C=null,R=null)}else this.children[P]=N}}}},{key:"setSpriteRegion",value:function(t,e,a){e.region=a,e.texture=a.texture,a.size?(e.scale.x=a.size.width/a.originalWidth,e.scale.y=-a.size.height/a.originalHeight):(e.scale.x=t.scaleX*t.width/a.originalWidth,e.scale.y=-t.scaleY*t.height/a.originalHeight)}},{key:"setMeshRegion",value:function(t,e,a){e.region=a,e.texture=a.texture,a.texture.updateUvs(),t.updateUVs(a,e.uvBuffer.data),e.uvBuffer.update()}},{key:"autoUpdateTransform",value:function(){if(e.globalAutoUpdate){this.lastTime=this.lastTime||Date.now();var t=.001*(Date.now()-this.lastTime);this.lastTime=Date.now(),this.update(t)}else this.lastTime=0;h.Container.prototype.updateTransform.call(this)}},{key:"createSprite",value:function(t,e,a){var n=e.region;t.tempAttachment===e&&(n=t.tempRegion,t.tempAttachment=null,t.tempRegion=null);var r=n.texture,i=this.newSprite(r);return i.rotation=e.rotation*y.MathUtils.degRad,i.anchor.x=.5,i.anchor.y=.5,i.position.x=e.x,i.position.y=e.y,i.alpha=e.color.a,i.region=e.region,this.setSpriteRegion(e,i,e.region),t.sprites=t.sprites||{},t.sprites[a]=i,i}},{key:"createMesh",value:function(t,e){var a=e.region;t.tempAttachment===e&&(a=t.tempRegion,t.tempAttachment=null,t.tempRegion=null);var n=this.newMesh(a.texture,new Float32Array(e.regionUVs.length),new Float32Array(e.regionUVs.length),new Uint16Array(e.triangles),h.DRAW_MODES.TRIANGLES);return n.canvasPadding&&(n.canvasPadding=1.5),n.alpha=e.color.a,n.region=e.region,this.setMeshRegion(e,n,a),t.meshes=t.meshes||{},t.meshes[e.name]=n,n}},{key:"createGraphics",value:function(t,e){var a=this.newGraphics(),n=new h.Polygon([]);return a.clear(),a.beginFill(16777215,1),a.drawPolygon(n),a.renderable=!1,t.currentGraphics=a,t.clippingContainer=this.newContainer(),t.clippingContainer.mask=t.currentGraphics,a}},{key:"updateGraphics",value:function(t,e){var a=t.currentGraphics.geometry,n=a.graphicsData[0].shape.points,r=e.worldVerticesLength;n.length=r,e.computeWorldVertices(t,0,r,n,0,2),a.dirty++,a.clearDirty++}},{key:"hackTextureBySlotIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=this.skeleton.slots[t];if(!n)return!1;var r=n.attachment,i=r.region;return e&&((i=new c.TextureRegion).texture=e,i.size=a),n.currentSprite&&n.currentSprite.region!=i?(this.setSpriteRegion(r,n.currentSprite,i),n.currentSprite.region=i):n.currentMesh&&n.currentMesh.region!=i?this.setMeshRegion(r,n.currentMesh,i):(n.tempRegion=i,n.tempAttachment=r),!0}},{key:"hackTextureBySlotName",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=this.skeleton.findSlotIndex(t);return-1!=n&&this.hackTextureBySlotIndex(n,e,a)}},{key:"newContainer",value:function(){return new h.Container}},{key:"newSprite",value:function(t){return new E(t)}},{key:"newGraphics",value:function(){return new h.Graphics}},{key:"newMesh",value:function(t,e,a,n,r){return new k(t,e,a,n,r)}},{key:"transformHack",value:function(){return 1}},{key:"hackAttachmentGroups",value:function(t,e,a){if(t){for(var n=[],r=[],i=0,s=this.skeleton.slots.length;i<s;i++){var o=this.skeleton.slots[i],l=o.currentSpriteName||o.currentMeshName||"",h=o.currentSprite||o.currentMesh;l.endsWith(t)?(h.parentGroup=e,r.push(h)):a&&h&&(h.parentGroup=a,n.push(h))}return[n,r]}}},{key:"destroy",value:function(t){for(var a=0,n=this.skeleton.slots.length;a<n;a++){var i=this.skeleton.slots[a];for(var s in i.meshes)i.meshes[s].destroy(t);for(var l in i.meshes=null,i.sprites)i.sprites[l].destroy(t);i.sprites=null}for(var h=0,u=this.slotContainers.length;h<u;h++)this.slotContainers[h].destroy(t);this.spineData=null,this.skeleton=null,this.slotContainers=null,this.stateData=null,this.state=null,this.tempClipContainers=null,r(o(e.prototype),"destroy",this).call(this,t)}},{key:"autoUpdate",get:function(){return this.updateTransform===e.prototype.autoUpdateTransform},set:function(t){this.updateTransform=t?e.prototype.autoUpdateTransform:h.Container.prototype.updateTransform}},{key:"tint",get:function(){return h.utils.rgb2hex(this.tintRgb)},set:function(t){this.tintRgb=h.utils.hex2rgb(t,this.tintRgb)}},{key:"delayLimit",get:function(){return("undefined"!==typeof this.localDelayLimit?this.localDelayLimit:e.globalDelayLimit)||Number.MAX_VALUE}}]),e}(h.Container);w.globalAutoUpdate=!0,w.globalDelayLimit=0,w.clippingPolygon=[],e.Spine=w},function(t,e,a){t.exports=a(85)},,,,,function(t,e,a){},,,,,,,,,,,,,,,,,,,,,,function(t,e,a){"use strict";var n=a(1),r=a(2);Object.defineProperty(e,"__esModule",{value:!0});var i=a(27),s=a(65),o=a(66),l=a(67),h=a(68),u=a(3),c=a(21),f=a(22),d=a(23),m=function(){function t(e){if(n(this,t),this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,null==e)throw new Error("data cannot be null.");this.data=e,this.bones=new Array;for(var a=0;a<e.bones.length;a++){var r=e.bones[a],c=void 0;if(null==r.parent)c=new i.Bone(r,this,null);else{var f=this.bones[r.parent.index];c=new i.Bone(r,this,f),f.children.push(c)}this.bones.push(c)}this.slots=new Array,this.drawOrder=new Array;for(var d=0;d<e.slots.length;d++){var m=e.slots[d],v=this.bones[m.boneData.index],p=new s.Slot(m,v);this.slots.push(p),this.drawOrder.push(p)}this.ikConstraints=new Array;for(var g=0;g<e.ikConstraints.length;g++){var y=e.ikConstraints[g];this.ikConstraints.push(new o.IkConstraint(y,this))}this.transformConstraints=new Array;for(var x=0;x<e.transformConstraints.length;x++){var M=e.transformConstraints[x];this.transformConstraints.push(new l.TransformConstraint(M,this))}this.pathConstraints=new Array;for(var E=0;E<e.pathConstraints.length;E++){var k=e.pathConstraints[E];this.pathConstraints.push(new h.PathConstraint(k,this))}this.color=new u.Color(1,1,1,1),this.updateCache()}return r(t,[{key:"updateCache",value:function(){var t=this._updateCache;t.length=0,this.updateCacheReset.length=0;for(var e=this.bones,a=0,n=e.length;a<n;a++)e[a].sorted=!1;var r=this.ikConstraints,i=this.transformConstraints,s=this.pathConstraints,o=r.length,l=i.length,h=s.length,u=o+l+h;t:for(var c=0;c<u;c++){for(var f=0;f<o;f++){var d=r[f];if(d.data.order==c){this.sortIkConstraint(d);continue t}}for(var m=0;m<l;m++){var v=i[m];if(v.data.order==c){this.sortTransformConstraint(v);continue t}}for(var p=0;p<h;p++){var g=s[p];if(g.data.order==c){this.sortPathConstraint(g);continue t}}}for(var y=0,x=e.length;y<x;y++)this.sortBone(e[y])}},{key:"sortIkConstraint",value:function(t){var e=t.target;this.sortBone(e);var a=t.bones,n=a[0];if(this.sortBone(n),a.length>1){var r=a[a.length-1];this._updateCache.indexOf(r)>-1||this.updateCacheReset.push(r)}this._updateCache.push(t),this.sortReset(n.children),a[a.length-1].sorted=!0}},{key:"sortPathConstraint",value:function(t){var e=t.target,a=e.data.index,n=e.bone;null!=this.skin&&this.sortPathConstraintAttachment(this.skin,a,n),null!=this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,a,n);for(var r=0,i=this.data.skins.length;r<i;r++)this.sortPathConstraintAttachment(this.data.skins[r],a,n);var s=e.getAttachment();s instanceof c.PathAttachment&&this.sortPathConstraintAttachmentWith(s,n);for(var o=t.bones,l=o.length,h=0;h<l;h++)this.sortBone(o[h]);this._updateCache.push(t);for(var u=0;u<l;u++)this.sortReset(o[u].children);for(var f=0;f<l;f++)o[f].sorted=!0}},{key:"sortTransformConstraint",value:function(t){this.sortBone(t.target);var e=t.bones,a=e.length;if(t.data.local)for(var n=0;n<a;n++){var r=e[n];this.sortBone(r.parent),this._updateCache.indexOf(r)>-1||this.updateCacheReset.push(r)}else for(var i=0;i<a;i++)this.sortBone(e[i]);this._updateCache.push(t);for(var s=0;s<a;s++)this.sortReset(e[s].children);for(var o=0;o<a;o++)e[o].sorted=!0}},{key:"sortPathConstraintAttachment",value:function(t,e,a){var n=t.attachments[e];if(n)for(var r in n)this.sortPathConstraintAttachmentWith(n[r],a)}},{key:"sortPathConstraintAttachmentWith",value:function(t,e){if(t instanceof c.PathAttachment){var a=t.bones;if(null==a)this.sortBone(e);else for(var n=this.bones,r=0;r<a.length;)for(var i=a[r++],s=r+i;r<s;r++){var o=a[r];this.sortBone(n[o])}}}},{key:"sortBone",value:function(t){if(!t.sorted){var e=t.parent;null!=e&&this.sortBone(e),t.sorted=!0,this._updateCache.push(t)}}},{key:"sortReset",value:function(t){for(var e=0,a=t.length;e<a;e++){var n=t[e];n.sorted&&this.sortReset(n.children),n.sorted=!1}}},{key:"updateWorldTransform",value:function(){for(var t=this.updateCacheReset,e=0,a=t.length;e<a;e++){var n=t[e];n.ax=n.x,n.ay=n.y,n.arotation=n.rotation,n.ascaleX=n.scaleX,n.ascaleY=n.scaleY,n.ashearX=n.shearX,n.ashearY=n.shearY,n.appliedValid=!0}for(var r=this._updateCache,i=0,s=r.length;i<s;i++)r[i].update()}},{key:"setToSetupPose",value:function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()}},{key:"setBonesToSetupPose",value:function(){for(var t=this.bones,e=0,a=t.length;e<a;e++)t[e].setToSetupPose();for(var n=this.ikConstraints,r=0,i=n.length;r<i;r++){var s=n[r];s.bendDirection=s.data.bendDirection,s.mix=s.data.mix}for(var o=this.transformConstraints,l=0,h=o.length;l<h;l++){var u=o[l],c=u.data;u.rotateMix=c.rotateMix,u.translateMix=c.translateMix,u.scaleMix=c.scaleMix,u.shearMix=c.shearMix}for(var f=this.pathConstraints,d=0,m=f.length;d<m;d++){var v=f[d],p=v.data;v.position=p.position,v.spacing=p.spacing,v.rotateMix=p.rotateMix,v.translateMix=p.translateMix}}},{key:"setSlotsToSetupPose",value:function(){var t=this.slots;u.Utils.arrayCopy(t,0,this.drawOrder,0,t.length);for(var e=0,a=t.length;e<a;e++)t[e].setToSetupPose()}},{key:"getRootBone",value:function(){return 0==this.bones.length?null:this.bones[0]}},{key:"findBone",value:function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,a=0,n=e.length;a<n;a++){var r=e[a];if(r.data.name==t)return r}return null}},{key:"findBoneIndex",value:function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,a=0,n=e.length;a<n;a++)if(e[a].data.name==t)return a;return-1}},{key:"findSlot",value:function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,a=0,n=e.length;a<n;a++){var r=e[a];if(r.data.name==t)return r}return null}},{key:"findSlotIndex",value:function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,a=0,n=e.length;a<n;a++)if(e[a].data.name==t)return a;return-1}},{key:"setSkinByName",value:function(t){var e=this.data.findSkin(t);if(null==e)throw new Error("Skin not found: "+t);this.setSkin(e)}},{key:"setSkin",value:function(t){if(null!=t)if(null!=this.skin)t.attachAll(this,this.skin);else for(var e=this.slots,a=0,n=e.length;a<n;a++){var r=e[a],i=r.data.attachmentName;if(null!=i){var s=t.getAttachment(a,i);null!=s&&r.setAttachment(s)}}this.skin=t}},{key:"getAttachmentByName",value:function(t,e){return this.getAttachment(this.data.findSlotIndex(t),e)}},{key:"getAttachment",value:function(t,e){if(null==e)throw new Error("attachmentName cannot be null.");if(null!=this.skin){var a=this.skin.getAttachment(t,e);if(null!=a)return a}return null!=this.data.defaultSkin?this.data.defaultSkin.getAttachment(t,e):null}},{key:"setAttachment",value:function(t,e){if(null==t)throw new Error("slotName cannot be null.");for(var a=this.slots,n=0,r=a.length;n<r;n++){var i=a[n];if(i.data.name==t){var s=null;if(null!=e&&null==(s=this.getAttachment(n,e)))throw new Error("Attachment not found: "+e+", for slot: "+t);return void i.setAttachment(s)}}throw new Error("Slot not found: "+t)}},{key:"findIkConstraint",value:function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,a=0,n=e.length;a<n;a++){var r=e[a];if(r.data.name==t)return r}return null}},{key:"findTransformConstraint",value:function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,a=0,n=e.length;a<n;a++){var r=e[a];if(r.data.name==t)return r}return null}},{key:"findPathConstraint",value:function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,a=0,n=e.length;a<n;a++){var r=e[a];if(r.data.name==t)return r}return null}},{key:"getBounds",value:function(t,e,a){if(null==t)throw new Error("offset cannot be null.");if(null==e)throw new Error("size cannot be null.");for(var n=this.drawOrder,r=Number.POSITIVE_INFINITY,i=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,o=Number.NEGATIVE_INFINITY,l=0,h=n.length;l<h;l++){var c=n[l],m=0,v=null,p=c.getAttachment();if(p instanceof f.RegionAttachment)m=8,v=u.Utils.setArraySize(a,m,0),p.computeWorldVertices(c.bone,v,0,2);else if(p instanceof d.MeshAttachment){var g=p;m=g.worldVerticesLength,v=u.Utils.setArraySize(a,m,0),g.computeWorldVertices(c,0,m,v,0,2)}if(null!=v)for(var y=0,x=v.length;y<x;y+=2){var M=v[y],E=v[y+1];r=Math.min(r,M),i=Math.min(i,E),s=Math.max(s,M),o=Math.max(o,E)}}t.set(r,i),e.set(s-r,o-i)}},{key:"update",value:function(t){this.time+=t}},{key:"flipX",get:function(){return-1==this.scaleX},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=e?1:-1}},{key:"flipY",get:function(){return-1==this.scaleY},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=e?1:-1}}]),t}();m.deprecatedWarning1=!1,e.Skeleton=m},function(t,e,a){"use strict";var n=a(1),r=a(2);Object.defineProperty(e,"__esModule",{value:!0});var i=a(3),s=function(){function t(e,a){if(n(this,t),this.attachmentVertices=new Array,null==e)throw new Error("data cannot be null.");if(null==a)throw new Error("bone cannot be null.");this.data=e,this.bone=a,this.color=new i.Color,this.darkColor=null==e.darkColor?null:new i.Color,this.setToSetupPose(),this.blendMode=this.data.blendMode}return r(t,[{key:"getAttachment",value:function(){return this.attachment}},{key:"setAttachment",value:function(t){this.attachment!=t&&(this.attachment=t,this.attachmentTime=this.bone.skeleton.time,this.attachmentVertices.length=0)}},{key:"setAttachmentTime",value:function(t){this.attachmentTime=this.bone.skeleton.time-t}},{key:"getAttachmentTime",value:function(){return this.bone.skeleton.time-this.attachmentTime}},{key:"setToSetupPose",value:function(){this.color.setFromColor(this.data.color),null!=this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),null==this.data.attachmentName?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))}}]),t}();e.Slot=s},function(t,e,a){"use strict";var n=a(1),r=a(2);Object.defineProperty(e,"__esModule",{value:!0});var i=a(3),s=function(){function t(e,a){if(n(this,t),this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,null==e)throw new Error("data cannot be null.");if(null==a)throw new Error("skeleton cannot be null.");this.data=e,this.mix=e.mix,this.bendDirection=e.bendDirection,this.compress=e.compress,this.stretch=e.stretch,this.bones=new Array;for(var r=0;r<e.bones.length;r++)this.bones.push(a.findBone(e.bones[r].name));this.target=a.findBone(e.target.name)}return r(t,[{key:"getOrder",value:function(){return this.data.order}},{key:"apply",value:function(){this.update()}},{key:"update",value:function(){var t=this.target,e=this.bones;switch(e.length){case 1:this.apply1(e[0],t.worldX,t.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(e[0],e[1],t.worldX,t.worldY,this.bendDirection,this.stretch,this.mix)}}},{key:"apply1",value:function(t,e,a,n,r,s,o){t.appliedValid||t.updateAppliedTransform();var l=t.parent.matrix,h=1/(l.a*l.d-l.b*l.c),u=e-l.tx,c=a-l.ty,f=(u*l.d-c*l.c)*h-t.ax,d=(c*l.a-u*l.b)*h-t.ay,m=Math.atan2(d,f)*i.MathUtils.radDeg-t.ashearX-t.arotation;t.ascaleX<0&&(m+=180),m>180?m-=360:m<-180&&(m+=360);var v=t.ascaleX,p=t.ascaleY;if(n||r){var g=t.data.length*v,y=Math.sqrt(f*f+d*d);if(n&&y<g||r&&y>g&&g>1e-4){var x=(y/g-1)*o+1;v*=x,s&&(p*=x)}}t.updateWorldTransformWith(t.ax,t.ay,t.arotation+m*o,v,p,t.ashearX,t.ashearY)}},{key:"apply2",value:function(t,e,a,n,r,s,o){if(0!=o){t.appliedValid||t.updateAppliedTransform(),e.appliedValid||e.updateAppliedTransform();var l=t.ax,h=t.ay,u=t.ascaleX,c=u,f=t.ascaleY,d=e.ascaleX,m=t.matrix,v=0,p=0,g=0;u<0?(u=-u,v=180,g=-1):(v=0,g=1),f<0&&(f=-f,g=-g),d<0?(d=-d,p=180):p=0;var y=e.ax,x=0,M=0,E=0,k=m.a,w=m.c,b=m.b,T=m.d,S=Math.abs(u-f)<=1e-4;S?(M=k*y+w*(x=e.ay)+m.tx,E=b*y+T*x+m.ty):(x=0,M=k*y+m.tx,E=b*y+m.ty);var A=t.parent.matrix;k=A.a,w=A.c,b=A.b;var R=1/(k*(T=A.d)-w*b),C=a-A.tx,P=n-A.ty,I=(C*T-P*w)*R-l,V=(P*k-C*b)*R-h,N=I*I+V*V,_=((C=M-A.tx)*T-(P=E-A.ty)*w)*R-l,D=(P*k-C*b)*R-h,O=Math.sqrt(_*_+D*D),U=e.data.length*d,Y=0,F=0;t:if(S){var X=(N-O*O-(U*=u)*U)/(2*O*U);X<-1?X=-1:X>1&&(X=1,s&&O+U>1e-4&&(c*=(Math.sqrt(N)/(O+U)-1)*o+1)),F=Math.acos(X)*r,k=O+U*X,w=U*Math.sin(F),Y=Math.atan2(V*k-I*w,I*k+V*w)}else{var L=(k=u*U)*k,B=(w=f*U)*w,W=Math.atan2(V,I),j=-2*B*O,q=B-L;if((T=j*j-4*q*(b=B*O*O+L*N-L*B))>=0){var G=Math.sqrt(T);j<0&&(G=-G);var H=(G=-(j+G)/2)/q,z=b/G,Z=Math.abs(H)<Math.abs(z)?H:z;if(Z*Z<=N){P=Math.sqrt(N-Z*Z)*r,Y=W-Math.atan2(P,Z),F=Math.atan2(P/f,(Z-O)/u);break t}}var J=i.MathUtils.PI,Q=O-k,K=Q*Q,$=0,tt=0,et=O+k,at=et*et,nt=0;(b=-k*O/(L-B))>=-1&&b<=1&&(b=Math.acos(b),(T=(C=k*Math.cos(b)+O)*C+(P=w*Math.sin(b))*P)<K&&(J=b,K=T,Q=C,$=P),T>at&&(tt=b,at=T,et=C,nt=P)),N<=(K+at)/2?(Y=W-Math.atan2($*r,Q),F=J*r):(Y=W-Math.atan2(nt*r,et),F=tt*r)}var rt=Math.atan2(x,y)*g,it=t.arotation;(Y=(Y-rt)*i.MathUtils.radDeg+v-it)>180?Y-=360:Y<-180&&(Y+=360),t.updateWorldTransformWith(l,h,it+Y*o,c,t.ascaleY,0,0),it=e.arotation,(F=((F+rt)*i.MathUtils.radDeg-e.ashearX)*g+p-it)>180?F-=360:F<-180&&(F+=360),e.updateWorldTransformWith(y,x,it+F*o,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY)}else e.updateWorldTransform()}}]),t}();e.IkConstraint=s},function(t,e,a){"use strict";var n=a(1),r=a(2);Object.defineProperty(e,"__esModule",{value:!0});var i=a(3),s=function(){function t(e,a){if(n(this,t),this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new i.Vector2,null==e)throw new Error("data cannot be null.");if(null==a)throw new Error("skeleton cannot be null.");this.data=e,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix,this.scaleMix=e.scaleMix,this.shearMix=e.shearMix,this.bones=new Array;for(var r=0;r<e.bones.length;r++)this.bones.push(a.findBone(e.bones[r].name));this.target=a.findBone(e.target.name)}return r(t,[{key:"apply",value:function(){this.update()}},{key:"update",value:function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()}},{key:"applyAbsoluteWorld",value:function(){for(var t=this.rotateMix,e=this.translateMix,a=this.scaleMix,n=this.shearMix,r=this.target,s=r.matrix,o=s.a,l=s.c,h=s.b,u=s.d,c=o*u-l*h>0?i.MathUtils.degRad:-i.MathUtils.degRad,f=this.data.offsetRotation*c,d=this.data.offsetShearY*c,m=this.bones,v=0,p=m.length;v<p;v++){var g=m[v],y=!1,x=g.matrix;if(0!=t){var M=x.a,E=x.c,k=x.b,w=x.d,b=Math.atan2(h,o)-Math.atan2(k,M)+f;b>i.MathUtils.PI?b-=i.MathUtils.PI2:b<-i.MathUtils.PI&&(b+=i.MathUtils.PI2),b*=t;var T=Math.cos(b),S=Math.sin(b);x.a=T*M-S*k,x.c=T*E-S*w,x.b=S*M+T*k,x.d=S*E+T*w,y=!0}if(0!=e){var A=this.temp;r.localToWorld(A.set(this.data.offsetX,this.data.offsetY)),x.tx+=(A.x-x.tx)*e,x.ty+=(A.y-x.ty)*e,y=!0}if(a>0){var R=Math.sqrt(x.a*x.a+x.b*x.b),C=Math.sqrt(o*o+h*h);R>1e-5&&(R=(R+(C-R+this.data.offsetScaleX)*a)/R),x.a*=R,x.b*=R,R=Math.sqrt(x.c*x.c+x.d*x.d),C=Math.sqrt(l*l+u*u),R>1e-5&&(R=(R+(C-R+this.data.offsetScaleY)*a)/R),x.c*=R,x.d*=R,y=!0}if(n>0){var P=x.c,I=x.d,V=Math.atan2(I,P),N=Math.atan2(u,l)-Math.atan2(h,o)-(V-Math.atan2(x.b,x.a));N>i.MathUtils.PI?N-=i.MathUtils.PI2:N<-i.MathUtils.PI&&(N+=i.MathUtils.PI2),N=V+(N+d)*n;var _=Math.sqrt(P*P+I*I);x.c=Math.cos(N)*_,x.d=Math.sin(N)*_,y=!0}y&&(g.appliedValid=!1)}}},{key:"applyRelativeWorld",value:function(){for(var t=this.rotateMix,e=this.translateMix,a=this.scaleMix,n=this.shearMix,r=this.target,s=r.matrix,o=s.a,l=s.c,h=s.b,u=s.d,c=o*u-l*h>0?i.MathUtils.degRad:-i.MathUtils.degRad,f=this.data.offsetRotation*c,d=this.data.offsetShearY*c,m=this.bones,v=0,p=m.length;v<p;v++){var g=m[v],y=!1,x=g.matrix;if(0!=t){var M=x.a,E=x.c,k=x.b,w=x.d,b=Math.atan2(h,o)+f;b>i.MathUtils.PI?b-=i.MathUtils.PI2:b<-i.MathUtils.PI&&(b+=i.MathUtils.PI2),b*=t;var T=Math.cos(b),S=Math.sin(b);x.a=T*M-S*k,x.c=T*E-S*w,x.b=S*M+T*k,x.d=S*E+T*w,y=!0}if(0!=e){var A=this.temp;r.localToWorld(A.set(this.data.offsetX,this.data.offsetY)),x.tx+=A.x*e,x.ty+=A.y*e,y=!0}if(a>0){var R=(Math.sqrt(o*o+h*h)-1+this.data.offsetScaleX)*a+1;x.a*=R,x.b*=R,R=(Math.sqrt(l*l+u*u)-1+this.data.offsetScaleY)*a+1,x.c*=R,x.d*=R,y=!0}if(n>0){var C=Math.atan2(u,l)-Math.atan2(h,o);C>i.MathUtils.PI?C-=i.MathUtils.PI2:C<-i.MathUtils.PI&&(C+=i.MathUtils.PI2);var P=x.c,I=x.d;C=Math.atan2(I,P)+(C-i.MathUtils.PI/2+d)*n;var V=Math.sqrt(P*P+I*I);x.c=Math.cos(C)*V,x.d=Math.sin(C)*V,y=!0}y&&(g.appliedValid=!1)}}},{key:"applyAbsoluteLocal",value:function(){var t=this.rotateMix,e=this.translateMix,a=this.scaleMix,n=this.shearMix,r=this.target;r.appliedValid||r.updateAppliedTransform();for(var i=this.bones,s=0,o=i.length;s<o;s++){var l=i[s];l.appliedValid||l.updateAppliedTransform();var h=l.arotation;if(0!=t){var u=r.arotation-h+this.data.offsetRotation;h+=(u-=360*(16384-(16384.499999999996-u/360|0)))*t}var c=l.ax,f=l.ay;0!=e&&(c+=(r.ax-c+this.data.offsetX)*e,f+=(r.ay-f+this.data.offsetY)*e);var d=l.ascaleX,m=l.ascaleY;a>0&&(d>1e-5&&(d=(d+(r.ascaleX-d+this.data.offsetScaleX)*a)/d),m>1e-5&&(m=(m+(r.ascaleY-m+this.data.offsetScaleY)*a)/m));var v=l.ashearY;if(n>0){var p=r.ashearY-v+this.data.offsetShearY;p-=360*(16384-(16384.499999999996-p/360|0)),l.shearY+=p*n}l.updateWorldTransformWith(c,f,h,d,m,l.ashearX,v)}}},{key:"applyRelativeLocal",value:function(){var t=this.rotateMix,e=this.translateMix,a=this.scaleMix,n=this.shearMix,r=this.target;r.appliedValid||r.updateAppliedTransform();for(var i=this.bones,s=0,o=i.length;s<o;s++){var l=i[s];l.appliedValid||l.updateAppliedTransform();var h=l.arotation;0!=t&&(h+=(r.arotation+this.data.offsetRotation)*t);var u=l.ax,c=l.ay;0!=e&&(u+=(r.ax+this.data.offsetX)*e,c+=(r.ay+this.data.offsetY)*e);var f=l.ascaleX,d=l.ascaleY;a>0&&(f>1e-5&&(f*=(r.ascaleX-1+this.data.offsetScaleX)*a+1),d>1e-5&&(d*=(r.ascaleY-1+this.data.offsetScaleY)*a+1));var m=l.ashearY;n>0&&(m+=(r.ashearY+this.data.offsetShearY)*n),l.updateWorldTransformWith(u,c,h,f,d,l.ashearX,m)}}},{key:"getOrder",value:function(){return this.data.order}}]),t}();e.TransformConstraint=s},function(t,e,a){"use strict";var n=a(1),r=a(2);Object.defineProperty(e,"__esModule",{value:!0});var i=a(3),s=a(21),o=a(30),l=function(){function t(e,a){if(n(this,t),this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,null==e)throw new Error("data cannot be null.");if(null==a)throw new Error("skeleton cannot be null.");this.data=e,this.bones=new Array;for(var r=0,i=e.bones.length;r<i;r++)this.bones.push(a.findBone(e.bones[r].name));this.target=a.findSlot(e.target.name),this.position=e.position,this.spacing=e.spacing,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix}return r(t,[{key:"apply",value:function(){this.update()}},{key:"update",value:function(){var e=this.target.getAttachment();if(e instanceof s.PathAttachment){var a=this.rotateMix,n=this.translateMix,r=a>0;if(n>0||r){var l=this.data,h=l.spacingMode,u=h==o.SpacingMode.Length,c=l.rotateMode,f=c==o.RotateMode.Tangent,d=c==o.RotateMode.ChainScale,m=this.bones.length,v=f?m:m+1,p=this.bones,g=i.Utils.setArraySize(this.spaces,v),y=null,x=this.spacing;if(d||u){d&&(y=i.Utils.setArraySize(this.lengths,m));for(var M=0,E=v-1;M<E;){var k=p[M],w=k.data.length;if(w<t.epsilon)d&&(y[M]=0),g[++M]=0;else{var b=w*k.matrix.a,T=w*k.matrix.b,S=Math.sqrt(b*b+T*T);d&&(y[M]=S),g[++M]=(u?w+x:x)*S/w}}}else for(var A=1;A<v;A++)g[A]=x;var R=this.computeWorldPositions(e,v,f,l.positionMode==o.PositionMode.Percent,h==o.SpacingMode.Percent),C=R[0],P=R[1],I=l.offsetRotation,V=!1;if(0==I)V=c==o.RotateMode.Chain;else{V=!1;var N=this.target.bone.matrix;I*=N.a*N.d-N.b*N.c>0?i.MathUtils.degRad:-i.MathUtils.degRad}for(var _=0,D=3;_<m;_++,D+=3){var O=p[_],U=O.matrix;U.tx+=(C-U.tx)*n,U.ty+=(P-U.ty)*n;var Y=R[D],F=R[D+1],X=Y-C,L=F-P;if(d){var B=y[_];if(0!=B){var W=(Math.sqrt(X*X+L*L)/B-1)*a+1;U.a*=W,U.b*=W}}if(C=Y,P=F,r){var j=U.a,q=U.c,G=U.b,H=U.d,z=0,Z=0,J=0;if(z=f?R[D-1]:0==g[_+1]?R[D+2]:Math.atan2(L,X),z-=Math.atan2(G,j),V){Z=Math.cos(z),J=Math.sin(z);var Q=O.data.length;C+=(Q*(Z*j-J*G)-X)*a,P+=(Q*(J*j+Z*G)-L)*a}else z+=I;z>i.MathUtils.PI?z-=i.MathUtils.PI2:z<-i.MathUtils.PI&&(z+=i.MathUtils.PI2),z*=a,Z=Math.cos(z),J=Math.sin(z),U.a=Z*j-J*G,U.c=Z*q-J*H,U.b=J*j+Z*G,U.d=J*q+Z*H}O.appliedValid=!1}}}}},{key:"computeWorldPositions",value:function(e,a,n,r,s){var o=this.target,l=this.position,h=this.spaces,u=i.Utils.setArraySize(this.positions,3*a+2),c=null,f=e.closed,d=e.worldVerticesLength,m=d/6,v=t.NONE;if(!e.constantSpeed){var p=e.lengths,g=p[m-=f?1:2];if(r&&(l*=g),s)for(var y=0;y<a;y++)h[y]*=g;c=i.Utils.setArraySize(this.world,8);for(var x=0,M=0,E=0;x<a;x++,M+=3){var k=h[x],w=l+=k;if(f)(w%=g)<0&&(w+=g),E=0;else{if(w<0){v!=t.BEFORE&&(v=t.BEFORE,e.computeWorldVertices(o,2,4,c,0,2)),this.addBeforePosition(w,c,0,u,M);continue}if(w>g){v!=t.AFTER&&(v=t.AFTER,e.computeWorldVertices(o,d-6,4,c,0,2)),this.addAfterPosition(w-g,c,0,u,M);continue}}for(;;E++){var b=p[E];if(!(w>b)){if(0==E)w/=b;else{var T=p[E-1];w=(w-T)/(b-T)}break}}E!=v&&(v=E,f&&E==m?(e.computeWorldVertices(o,d-4,4,c,0,2),e.computeWorldVertices(o,0,4,c,4,2)):e.computeWorldVertices(o,6*E+2,8,c,0,2)),this.addCurvePosition(w,c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],u,M,n||x>0&&0==k)}return u}f?(d+=2,c=i.Utils.setArraySize(this.world,d),e.computeWorldVertices(o,2,d-4,c,0,2),e.computeWorldVertices(o,0,2,c,d-4,2),c[d-2]=c[0],c[d-1]=c[1]):(m--,d-=4,c=i.Utils.setArraySize(this.world,d),e.computeWorldVertices(o,2,d,c,0,2));for(var S=i.Utils.setArraySize(this.curves,m),A=0,R=c[0],C=c[1],P=0,I=0,V=0,N=0,_=0,D=0,O=0,U=0,Y=0,F=0,X=0,L=0,B=0,W=0,j=0,q=2;j<m;j++,q+=6)P=c[q],I=c[q+1],V=c[q+2],N=c[q+3],X=2*(O=.1875*(R-2*P+V))+(Y=.09375*(3*(P-V)-R+(_=c[q+4]))),L=2*(U=.1875*(C-2*I+N))+(F=.09375*(3*(I-N)-C+(D=c[q+5]))),B=.75*(P-R)+O+.16666667*Y,W=.75*(I-C)+U+.16666667*F,A+=Math.sqrt(B*B+W*W),B+=X,W+=L,X+=Y,L+=F,A+=Math.sqrt(B*B+W*W),B+=X,W+=L,A+=Math.sqrt(B*B+W*W),B+=X+Y,W+=L+F,A+=Math.sqrt(B*B+W*W),S[j]=A,R=_,C=D;if(r&&(l*=A),s)for(var G=0;G<a;G++)h[G]*=A;for(var H=this.segments,z=0,Z=0,J=0,Q=0,K=0;Z<a;Z++,J+=3){var $=h[Z],tt=l+=$;if(f)(tt%=A)<0&&(tt+=A),Q=0;else{if(tt<0){this.addBeforePosition(tt,c,0,u,J);continue}if(tt>A){this.addAfterPosition(tt-A,c,d-4,u,J);continue}}for(;;Q++){var et=S[Q];if(!(tt>et)){if(0==Q)tt/=et;else{var at=S[Q-1];tt=(tt-at)/(et-at)}break}}if(Q!=v){v=Q;var nt=6*Q;for(R=c[nt],C=c[nt+1],P=c[nt+2],I=c[nt+3],V=c[nt+4],N=c[nt+5],X=2*(O=.03*(R-2*P+V))+(Y=.006*(3*(P-V)-R+(_=c[nt+6]))),L=2*(U=.03*(C-2*I+N))+(F=.006*(3*(I-N)-C+(D=c[nt+7]))),B=.3*(P-R)+O+.16666667*Y,W=.3*(I-C)+U+.16666667*F,z=Math.sqrt(B*B+W*W),H[0]=z,nt=1;nt<8;nt++)B+=X,W+=L,X+=Y,L+=F,z+=Math.sqrt(B*B+W*W),H[nt]=z;B+=X,W+=L,z+=Math.sqrt(B*B+W*W),H[8]=z,B+=X+Y,W+=L+F,z+=Math.sqrt(B*B+W*W),H[9]=z,K=0}for(tt*=z;;K++){var rt=H[K];if(!(tt>rt)){if(0==K)tt/=rt;else{var it=H[K-1];tt=K+(tt-it)/(rt-it)}break}}this.addCurvePosition(.1*tt,R,C,P,I,V,N,_,D,u,J,n||Z>0&&0==$)}return u}},{key:"addBeforePosition",value:function(t,e,a,n,r){var i=e[a],s=e[a+1],o=e[a+2]-i,l=e[a+3]-s,h=Math.atan2(l,o);n[r]=i+t*Math.cos(h),n[r+1]=s+t*Math.sin(h),n[r+2]=h}},{key:"addAfterPosition",value:function(t,e,a,n,r){var i=e[a+2],s=e[a+3],o=i-e[a],l=s-e[a+1],h=Math.atan2(l,o);n[r]=i+t*Math.cos(h),n[r+1]=s+t*Math.sin(h),n[r+2]=h}},{key:"addCurvePosition",value:function(t,e,a,n,r,i,s,o,l,h,u,c){(0==t||isNaN(t))&&(t=1e-4);var f=t*t,d=f*t,m=1-t,v=m*m,p=v*m,g=m*t,y=3*g,x=m*y,M=y*t,E=e*p+n*x+i*M+o*d,k=a*p+r*x+s*M+l*d;h[u]=E,h[u+1]=k,c&&(h[u+2]=Math.atan2(k-(a*v+r*g*2+s*f),E-(e*v+n*g*2+i*f)))}},{key:"getOrder",value:function(){return this.data.order}}]),t}();l.NONE=-1,l.BEFORE=-2,l.AFTER=-3,l.epsilon=1e-5,e.PathConstraint=l},function(t,e,a){"use strict";var n=a(1),r=a(2);Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(e){if(n(this,t),this.animationToMixTime={},this.defaultMix=0,null==e)throw new Error("skeletonData cannot be null.");this.skeletonData=e}return r(t,[{key:"setMix",value:function(t,e,a){var n=this.skeletonData.findAnimation(t);if(null==n)throw new Error("Animation not found: "+t);var r=this.skeletonData.findAnimation(e);if(null==r)throw new Error("Animation not found: "+e);this.setMixWith(n,r,a)}},{key:"setMixByName",value:function(e,a,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationStateData.setMixByName is deprecated, please use setMix from now on.")),this.setMix(e,a,n)}},{key:"setMixWith",value:function(t,e,a){if(null==t)throw new Error("from cannot be null.");if(null==e)throw new Error("to cannot be null.");var n=t.name+"."+e.name;this.animationToMixTime[n]=a}},{key:"getMix",value:function(t,e){var a=t.name+"."+e.name,n=this.animationToMixTime[a];return void 0===n?this.defaultMix:n}}]),t}();i.deprecatedWarning1=!1,e.AnimationStateData=i},function(t,e,a){"use strict";var n=a(1),r=a(2);Object.defineProperty(e,"__esModule",{value:!0});var i=a(31),s=a(3),o=function(){function t(e){n(this,t),this.tracks=new Array,this.events=new Array,this.listeners=new Array,this.queue=new u(this),this.propertyIDs=new s.IntSet,this.animationsChanged=!1,this.timeScale=1,this.trackEntryPool=new s.Pool((function(){return new l})),this.data=e}return r(t,[{key:"update",value:function(t){t*=this.timeScale;for(var e=this.tracks,a=0,n=e.length;a<n;a++){var r=e[a];if(null!=r){r.animationLast=r.nextAnimationLast,r.trackLast=r.nextTrackLast;var i=t*r.timeScale;if(r.delay>0){if(r.delay-=i,r.delay>0)continue;i=-r.delay,r.delay=0}var s=r.next;if(null!=s){var o=r.trackLast-s.delay;if(o>=0){for(s.delay=0,s.trackTime=0==r.timeScale?0:(o/r.timeScale+t)*s.timeScale,r.trackTime+=i,this.setCurrent(a,s,!0);null!=s.mixingFrom;)s.mixTime+=t,s=s.mixingFrom;continue}}else if(r.trackLast>=r.trackEnd&&null==r.mixingFrom){e[a]=null,this.queue.end(r),this.disposeNext(r);continue}if(null!=r.mixingFrom&&this.updateMixingFrom(r,t)){var l=r.mixingFrom;for(r.mixingFrom=null,null!=l&&(l.mixingTo=null);null!=l;)this.queue.end(l),l=l.mixingFrom}r.trackTime+=i}}this.queue.drain()}},{key:"updateMixingFrom",value:function(t,e){var a=t.mixingFrom;if(null==a)return!0;var n=this.updateMixingFrom(a,e);return a.animationLast=a.nextAnimationLast,a.trackLast=a.nextTrackLast,t.mixTime>0&&t.mixTime>=t.mixDuration?(0!=a.totalAlpha&&0!=t.mixDuration||(t.mixingFrom=a.mixingFrom,null!=a.mixingFrom&&(a.mixingFrom.mixingTo=t),t.interruptAlpha=a.interruptAlpha,this.queue.end(a)),n):(a.trackTime+=e*a.timeScale,t.mixTime+=e,!1)}},{key:"apply",value:function(e){if(null==e)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var a=this.events,n=this.tracks,r=!1,o=0,l=n.length;o<l;o++){var h=n[o];if(!(null==h||h.delay>0)){r=!0;var u=0==o?i.MixBlend.first:h.mixBlend,c=h.alpha;null!=h.mixingFrom?c*=this.applyMixingFrom(h,e,u):h.trackTime>=h.trackEnd&&null==h.next&&(c=0);var f=h.animationLast,d=h.getAnimationTime(),m=h.animation.timelines.length,v=h.animation.timelines;if(0!=o||1!=c&&u!=i.MixBlend.add){var p=h.timelineMode,g=0==h.timelinesRotation.length;g&&s.Utils.setArraySize(h.timelinesRotation,m<<1,null);for(var y=h.timelinesRotation,x=0;x<m;x++){var M=v[x],E=p[x]==t.SUBSEQUENT?u:i.MixBlend.setup;M instanceof i.RotateTimeline?this.applyRotateTimeline(M,e,d,c,E,y,x<<1,g):(s.Utils.webkit602BugfixHelper(c,u),M.apply(e,f,d,a,c,E,i.MixDirection.in))}}else for(var k=0;k<m;k++)v[k].apply(e,f,d,a,c,u,i.MixDirection.in);this.queueEvents(h,d),a.length=0,h.nextAnimationLast=d,h.nextTrackLast=h.trackTime}}return this.queue.drain(),r}},{key:"applyMixingFrom",value:function(e,a,n){var r=e.mixingFrom;null!=r.mixingFrom&&this.applyMixingFrom(r,a,n);var o=0;0==e.mixDuration?(o=1,n==i.MixBlend.first&&(n=i.MixBlend.setup)):((o=e.mixTime/e.mixDuration)>1&&(o=1),n!=i.MixBlend.first&&(n=r.mixBlend));var l=o<r.eventThreshold?this.events:null,h=o<r.attachmentThreshold,u=o<r.drawOrderThreshold,c=r.animationLast,f=r.getAnimationTime(),d=r.animation.timelines.length,m=r.animation.timelines,v=r.alpha*e.interruptAlpha,p=v*(1-o);if(n==i.MixBlend.add)for(var g=0;g<d;g++)m[g].apply(a,c,f,l,p,n,i.MixDirection.out);else{var y=r.timelineMode,x=r.timelineHoldMix,M=0==r.timelinesRotation.length;M&&s.Utils.setArraySize(r.timelinesRotation,d<<1,null);var E=r.timelinesRotation;r.totalAlpha=0;for(var k=0;k<d;k++){var w=m[k],b=i.MixDirection.out,T=void 0,S=0;switch(y[k]){case t.SUBSEQUENT:if(!h&&w instanceof i.AttachmentTimeline)continue;if(!u&&w instanceof i.DrawOrderTimeline)continue;T=n,S=p;break;case t.FIRST:T=i.MixBlend.setup,S=p;break;case t.HOLD:T=i.MixBlend.setup,S=v;break;default:T=i.MixBlend.setup;var A=x[k];S=v*Math.max(0,1-A.mixTime/A.mixDuration)}r.totalAlpha+=S,w instanceof i.RotateTimeline?this.applyRotateTimeline(w,a,f,S,T,E,k<<1,M):(s.Utils.webkit602BugfixHelper(S,n),T==i.MixBlend.setup&&(w instanceof i.AttachmentTimeline?h&&(b=i.MixDirection.out):w instanceof i.DrawOrderTimeline&&u&&(b=i.MixDirection.out)),w.apply(a,c,f,l,S,T,b))}}return e.mixDuration>0&&this.queueEvents(r,f),this.events.length=0,r.nextAnimationLast=f,r.nextTrackLast=r.trackTime,o}},{key:"applyRotateTimeline",value:function(t,e,a,n,r,o,l,h){if(h&&(o[l]=0),1!=n){var u=t,c=u.frames,f=e.bones[u.boneIndex],d=0,m=0;if(a<c[0])switch(r){case i.MixBlend.setup:f.rotation=f.data.rotation;default:return;case i.MixBlend.first:d=f.rotation,m=f.data.rotation}else if(d=r==i.MixBlend.setup?f.data.rotation:f.rotation,a>=c[c.length-i.RotateTimeline.ENTRIES])m=f.data.rotation+c[c.length+i.RotateTimeline.PREV_ROTATION];else{var v=i.Animation.binarySearch(c,a,i.RotateTimeline.ENTRIES),p=c[v+i.RotateTimeline.PREV_ROTATION],g=c[v],y=u.getCurvePercent((v>>1)-1,1-(a-g)/(c[v+i.RotateTimeline.PREV_TIME]-g));m=c[v+i.RotateTimeline.ROTATION]-p,m=p+(m-=360*(16384-(16384.499999999996-m/360|0)))*y+f.data.rotation,m-=360*(16384-(16384.499999999996-m/360|0))}var x=0,M=m-d;if(0==(M-=360*(16384-(16384.499999999996-M/360|0))))x=o[l];else{var E=0,k=0;h?(E=0,k=M):(E=o[l],k=o[l+1]);var w=M>0,b=E>=0;s.MathUtils.signum(k)!=s.MathUtils.signum(M)&&Math.abs(k)<=90&&(Math.abs(E)>180&&(E+=360*s.MathUtils.signum(E)),b=w),x=M+E-E%360,b!=w&&(x+=360*s.MathUtils.signum(E)),o[l]=x}o[l+1]=M,d+=x*n,f.rotation=d-360*(16384-(16384.499999999996-d/360|0))}else t.apply(e,0,a,null,1,r,i.MixDirection.in)}},{key:"queueEvents",value:function(t,e){for(var a=t.animationStart,n=t.animationEnd,r=n-a,i=t.trackLast%r,s=this.events,o=0,l=s.length;o<l;o++){var h=s[o];if(h.time<i)break;h.time>n||this.queue.event(t,h)}for((t.loop?0==r||i>t.trackTime%r:e>=n&&t.animationLast<n)&&this.queue.complete(t);o<l;o++){s[o].time<a||this.queue.event(t,s[o])}}},{key:"clearTracks",value:function(){var t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var e=0,a=this.tracks.length;e<a;e++)this.clearTrack(e);this.tracks.length=0,this.queue.drainDisabled=t,this.queue.drain()}},{key:"clearTrack",value:function(t){if(!(t>=this.tracks.length)){var e=this.tracks[t];if(null!=e){this.queue.end(e),this.disposeNext(e);for(var a=e;;){var n=a.mixingFrom;if(null==n)break;this.queue.end(n),a.mixingFrom=null,a.mixingTo=null,a=n}this.tracks[e.trackIndex]=null,this.queue.drain()}}}},{key:"setCurrent",value:function(t,e,a){var n=this.expandToIndex(t);this.tracks[t]=e,null!=n&&(a&&this.queue.interrupt(n),e.mixingFrom=n,n.mixingTo=e,e.mixTime=0,null!=n.mixingFrom&&n.mixDuration>0&&(e.interruptAlpha*=Math.min(1,n.mixTime/n.mixDuration)),n.timelinesRotation.length=0),this.queue.start(e)}},{key:"setAnimation",value:function(t,e,a){var n=this.data.skeletonData.findAnimation(e);if(null==n)throw new Error("Animation not found: "+e);return this.setAnimationWith(t,n,a)}},{key:"setAnimationWith",value:function(t,e,a){if(null==e)throw new Error("animation cannot be null.");var n=!0,r=this.expandToIndex(t);null!=r&&(-1==r.nextTrackLast?(this.tracks[t]=r.mixingFrom,this.queue.interrupt(r),this.queue.end(r),this.disposeNext(r),r=r.mixingFrom,n=!1):this.disposeNext(r));var i=this.trackEntry(t,e,a,r);return this.setCurrent(t,i,n),this.queue.drain(),i}},{key:"addAnimation",value:function(t,e,a,n){var r=this.data.skeletonData.findAnimation(e);if(null==r)throw new Error("Animation not found: "+e);return this.addAnimationWith(t,r,a,n)}},{key:"addAnimationWith",value:function(t,e,a,n){if(null==e)throw new Error("animation cannot be null.");var r=this.expandToIndex(t);if(null!=r)for(;null!=r.next;)r=r.next;var i=this.trackEntry(t,e,a,r);if(null==r)this.setCurrent(t,i,!0),this.queue.drain();else if(r.next=i,n<=0){var s=r.animationEnd-r.animationStart;0!=s?(r.loop?n+=s*(1+(r.trackTime/s|0)):n+=Math.max(s,r.trackTime),n-=this.data.getMix(r.animation,e)):n=r.trackTime}return i.delay=n,i}},{key:"setEmptyAnimation",value:function(e,a){var n=this.setAnimationWith(e,t.emptyAnimation,!1);return n.mixDuration=a,n.trackEnd=a,n}},{key:"addEmptyAnimation",value:function(e,a,n){n<=0&&(n-=a);var r=this.addAnimationWith(e,t.emptyAnimation,!1,n);return r.mixDuration=a,r.trackEnd=a,r}},{key:"setEmptyAnimations",value:function(t){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var a=0,n=this.tracks.length;a<n;a++){var r=this.tracks[a];null!=r&&this.setEmptyAnimation(r.trackIndex,t)}this.queue.drainDisabled=e,this.queue.drain()}},{key:"expandToIndex",value:function(t){return t<this.tracks.length?this.tracks[t]:(s.Utils.ensureArrayCapacity(this.tracks,t-this.tracks.length+1,null),this.tracks.length=t+1,null)}},{key:"trackEntry",value:function(t,e,a,n){var r=this.trackEntryPool.obtain();return r.trackIndex=t,r.animation=e,r.loop=a,r.holdPrevious=!1,r.eventThreshold=0,r.attachmentThreshold=0,r.drawOrderThreshold=0,r.animationStart=0,r.animationEnd=e.duration,r.animationLast=-1,r.nextAnimationLast=-1,r.delay=0,r.trackTime=0,r.trackLast=-1,r.nextTrackLast=-1,r.trackEnd=Number.MAX_VALUE,r.timeScale=1,r.alpha=1,r.interruptAlpha=1,r.mixTime=0,r.mixDuration=null==n?0:this.data.getMix(n.animation,e),r}},{key:"disposeNext",value:function(t){for(var e=t.next;null!=e;)this.queue.dispose(e),e=e.next;t.next=null}},{key:"_animationsChanged",value:function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var t=0,e=this.tracks.length;t<e;t++){var a=this.tracks[t];if(null!=a){for(;null!=a.mixingFrom;)a=a.mixingFrom;do{null!=a.mixingFrom&&a.mixBlend==i.MixBlend.add||this.setTimelineModes(a),a=a.mixingTo}while(null!=a)}}}},{key:"setTimelineModes",value:function(e){var a=e.mixingTo,n=e.animation.timelines,r=e.animation.timelines.length,i=s.Utils.setArraySize(e.timelineMode,r);e.timelineHoldMix.length=0;var o=s.Utils.setArraySize(e.timelineHoldMix,r),l=this.propertyIDs;if(null!=a&&a.holdPrevious)for(var h=0;h<r;h++)l.add(n[h].getPropertyId()),i[h]=t.HOLD;else t:for(var u=0;u<r;u++){var c=n[u].getPropertyId();if(l.add(c))if(null!=a&&this.hasTimeline(a,c)){for(var f=a.mixingTo;null!=f;f=f.mixingTo)if(!this.hasTimeline(f,c)){if(e.mixDuration>0){i[u]=t.HOLD_MIX,o[u]=f;continue t}break}i[u]=t.HOLD}else i[u]=t.FIRST;else i[u]=t.SUBSEQUENT}}},{key:"hasTimeline",value:function(t,e){for(var a=t.animation.timelines,n=0,r=a.length;n<r;n++)if(a[n].getPropertyId()==e)return!0;return!1}},{key:"getCurrent",value:function(t){return t>=this.tracks.length?null:this.tracks[t]}},{key:"addListener",value:function(t){if(null==t)throw new Error("listener cannot be null.");this.listeners.push(t)}},{key:"removeListener",value:function(t){var e=this.listeners.indexOf(t);e>=0&&this.listeners.splice(e,1)}},{key:"clearListeners",value:function(){this.listeners.length=0}},{key:"clearListenerNotifications",value:function(){this.queue.clear()}},{key:"setAnimationByName",value:function(e,a,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(e,a,n)}},{key:"addAnimationByName",value:function(e,a,n,r){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(e,a,n,r)}},{key:"hasAnimation",value:function(t){return null!==this.data.skeletonData.findAnimation(t)}},{key:"hasAnimationByName",value:function(e){return t.deprecatedWarning3||(t.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(e)}}]),t}();o.emptyAnimation=new i.Animation("<empty>",[],0),o.SUBSEQUENT=0,o.FIRST=1,o.HOLD=2,o.HOLD_MIX=3,o.deprecatedWarning1=!1,o.deprecatedWarning2=!1,o.deprecatedWarning3=!1,e.AnimationState=o;var l=function(){function t(){n(this,t),this.mixBlend=i.MixBlend.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return r(t,[{key:"reset",value:function(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0}},{key:"getAnimationTime",value:function(){if(this.loop){var t=this.animationEnd-this.animationStart;return 0==t?this.animationStart:this.trackTime%t+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)}},{key:"setAnimationLast",value:function(t){this.animationLast=t,this.nextAnimationLast=t}},{key:"isComplete",value:function(){return this.trackTime>=this.animationEnd-this.animationStart}},{key:"resetRotationDirections",value:function(){this.timelinesRotation.length=0}},{key:"loopsCount",value:function(){return Math.floor(this.trackTime/this.trackEnd)}},{key:"time",get:function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=e}},{key:"endTime",get:function(){return t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(e){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=e}}]),t}();l.deprecatedWarning1=!1,l.deprecatedWarning2=!1,e.TrackEntry=l;var h,u=function(){function t(e){n(this,t),this.objects=[],this.drainDisabled=!1,this.animState=e}return r(t,[{key:"start",value:function(t){this.objects.push(h.start),this.objects.push(t),this.animState.animationsChanged=!0}},{key:"interrupt",value:function(t){this.objects.push(h.interrupt),this.objects.push(t)}},{key:"end",value:function(t){this.objects.push(h.end),this.objects.push(t),this.animState.animationsChanged=!0}},{key:"dispose",value:function(t){this.objects.push(h.dispose),this.objects.push(t)}},{key:"complete",value:function(t){this.objects.push(h.complete),this.objects.push(t)}},{key:"event",value:function(t,e){this.objects.push(h.event),this.objects.push(t),this.objects.push(e)}},{key:"deprecateStuff",value:function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: onComplete, onStart, onEnd, onEvent art deprecated, please use listeners from now on. 'state.addListener({ complete: function(track, event) { } })'")),!0}},{key:"drain",value:function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var t=this.objects,e=this.animState.listeners,a=0;a<t.length;a+=2){var n=t[a],r=t[a+1];switch(n){case h.start:null!=r.listener&&r.listener.start&&r.listener.start(r);for(var i=0;i<e.length;i++)e[i].start&&e[i].start(r);r.onStart&&this.deprecateStuff()&&r.onStart(r.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(r.trackIndex);break;case h.interrupt:null!=r.listener&&r.listener.interrupt&&r.listener.interrupt(r);for(var o=0;o<e.length;o++)e[o].interrupt&&e[o].interrupt(r);break;case h.end:null!=r.listener&&r.listener.end&&r.listener.end(r);for(var l=0;l<e.length;l++)e[l].end&&e[l].end(r);r.onEnd&&this.deprecateStuff()&&r.onEnd(r.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(r.trackIndex);case h.dispose:null!=r.listener&&r.listener.dispose&&r.listener.dispose(r);for(var u=0;u<e.length;u++)e[u].dispose&&e[u].dispose(r);this.animState.trackEntryPool.free(r);break;case h.complete:null!=r.listener&&r.listener.complete&&r.listener.complete(r);for(var c=0;c<e.length;c++)e[c].complete&&e[c].complete(r);var f=s.MathUtils.toInt(r.loopsCount());r.onComplete&&this.deprecateStuff()&&r.onComplete(r.trackIndex,f),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(r.trackIndex,f);break;case h.event:var d=t[2+a++];null!=r.listener&&r.listener.event&&r.listener.event(r,d);for(var m=0;m<e.length;m++)e[m].event&&e[m].event(r,d);r.onEvent&&this.deprecateStuff()&&r.onEvent(r.trackIndex,d),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(r.trackIndex,d)}}this.clear(),this.drainDisabled=!1}}},{key:"clear",value:function(){this.objects.length=0}}]),t}();u.deprecatedWarning1=!1,e.EventQueue=u,function(t){t[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event"}(h=e.EventType||(e.EventType={}));var c=function(){function t(){n(this,t)}return r(t,[{key:"start",value:function(t){}},{key:"interrupt",value:function(t){}},{key:"end",value:function(t){}},{key:"dispose",value:function(t){}},{key:"complete",value:function(t){}},{key:"event",value:function(t,e){}}]),t}();e.AnimationStateAdapter2=c},function(t,e,a){"use strict";var n=a(5),r=a(4),i=a(6),s=a(1),o=a(2);Object.defineProperty(e,"__esModule",{value:!0});var l=a(29),h=a(7),u=function(){function t(e,a,n){s(this,t),this.pages=new Array,this.regions=new Array,e&&this.addSpineAtlas(e,a,n)}return o(t,[{key:"addTexture",value:function(t,e){for(var a=this.pages,n=null,r=0;r<a.length;r++)if(a[r].baseTexture===e.baseTexture){n=a[r];break}if(null===n){(n=new f).name="texturePage";var i=e.baseTexture;n.width=i.realWidth,n.height=i.realHeight,n.baseTexture=i,n.minFilter=n.magFilter=l.TextureFilter.Nearest,n.uWrap=l.TextureWrap.ClampToEdge,n.vWrap=l.TextureWrap.ClampToEdge,a.push(n)}var s=new d;return s.name=t,s.page=n,s.texture=e,s.index=-1,this.regions.push(s),s}},{key:"addTextureHash",value:function(t,e){for(var a in t)t.hasOwnProperty(a)&&this.addTexture(e&&-1!==a.indexOf(".")?a.substr(0,a.lastIndexOf(".")):a,t[a])}},{key:"addSpineAtlas",value:function(t,e,a){return this.load(t,e,a)}},{key:"load",value:function(t,e,a){var n=this;if(null==e)throw new Error("textureLoader cannot be null.");var r=new c(t),i=new Array(4),s=null;!function t(){for(;;){var o=r.readLine();if(null==o)return a&&a(n);if(0==(o=o.trim()).length)s=null;else{if(!s){(s=new f).name=o,2==r.readTuple(i)&&(s.width=parseInt(i[0]),s.height=parseInt(i[1]),r.readTuple(i)),r.readTuple(i),s.minFilter=l.Texture.filterFromString(i[0]),s.magFilter=l.Texture.filterFromString(i[1]);var u=r.readValue();s.uWrap=l.TextureWrap.ClampToEdge,s.vWrap=l.TextureWrap.ClampToEdge,"x"==u?s.uWrap=l.TextureWrap.Repeat:"y"==u?s.vWrap=l.TextureWrap.Repeat:"xy"==u&&(s.uWrap=s.vWrap=l.TextureWrap.Repeat),e(o,(function(e){if(null===e)return n.pages.splice(n.pages.indexOf(s),1),a&&a(null);s.baseTexture=e,e.valid||e.setSize(s.width,s.height),n.pages.push(s),s.setFilters(),s.width&&s.height||(s.width=e.realWidth,s.height=e.realHeight,s.width&&s.height||console.log("ERROR spine atlas page "+s.name+": meshes wont work if you dont specify size in atlas (http://www.html5gamedevs.com/topic/18888-pixi-spines-and-meshes/?p=107121)")),t()})),n.pages.push(s);break}var c=new d;c.name=o,c.page=s;var m="true"==r.readValue()?6:0;r.readTuple(i);var v=parseInt(i[0]),p=parseInt(i[1]);r.readTuple(i);var g=parseInt(i[0]),y=parseInt(i[1]),x=s.baseTexture.resolution;v/=x,p/=x,g/=x,y/=x;var M=new h.Rectangle(v,p,m?y:g,m?g:y);4==r.readTuple(i)&&4==r.readTuple(i)&&r.readTuple(i);var E=parseInt(i[0])/x,k=parseInt(i[1])/x;r.readTuple(i);var w=parseInt(i[0])/x,b=parseInt(i[1])/x,T=new h.Rectangle(0,0,E,k),S=new h.Rectangle(w,k-y-b,g,y);if("3"!=h.VERSION[0])c.texture=new h.Texture(c.page.baseTexture,M,T,S,m);else{var A=new h.Rectangle(v,p,g,y),R=A.clone();S.width=E,S.height=k,c.texture=new h.Texture(c.page.baseTexture,A,R,S,m)}c.index=parseInt(r.readValue()),c.texture.updateUvs(),n.regions.push(c)}}}()}},{key:"findRegion",value:function(t){for(var e=0;e<this.regions.length;e++)if(this.regions[e].name==t)return this.regions[e];return null}},{key:"dispose",value:function(){for(var t=0;t<this.pages.length;t++)this.pages[t].baseTexture.dispose()}}]),t}();e.TextureAtlas=u;var c=function(){function t(e){s(this,t),this.index=0,this.lines=e.split(/\r\n|\r|\n/)}return o(t,[{key:"readLine",value:function(){return this.index>=this.lines.length?null:this.lines[this.index++]}},{key:"readValue",value:function(){var t=this.readLine(),e=t.indexOf(":");if(-1==e)throw new Error("Invalid line: "+t);return t.substring(e+1).trim()}},{key:"readTuple",value:function(t){var e=this.readLine(),a=e.indexOf(":");if(-1==a)throw new Error("Invalid line: "+e);for(var n=0,r=a+1;n<3;n++){var i=e.indexOf(",",r);if(-1==i)break;t[n]=e.substr(r,i-r).trim(),r=i+1}return t[n]=e.substring(r).trim(),n+1}}]),t}(),f=function(){function t(){s(this,t)}return o(t,[{key:"setFilters",value:function(){var t=this.baseTexture,e=this.minFilter;e==l.TextureFilter.Linear?t.scaleMode=h.SCALE_MODES.LINEAR:this.minFilter==l.TextureFilter.Nearest?t.scaleMode=h.SCALE_MODES.NEAREST:(t.mipmap=h.MIPMAP_MODES.POW2,e==l.TextureFilter.MipMapNearestNearest?t.scaleMode=h.SCALE_MODES.NEAREST:t.scaleMode=h.SCALE_MODES.LINEAR)}}]),t}();e.TextureAtlasPage=f;var d=function(t){function e(){return s(this,e),n(this,r(e).apply(this,arguments))}return i(e,t),e}(l.TextureRegion);e.TextureAtlasRegion=d},function(t,e,a){"use strict";var n=a(1),r=a(2);Object.defineProperty(e,"__esModule",{value:!0});var i=a(73),s=a(28),o=a(74),l=a(3),h=a(75),u=a(76),c=a(30),f=a(77),d=a(78),m=a(31),v=a(79),p=a(80),g=function(){function t(e){n(this,t),this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return r(t,[{key:"readSkeletonData",value:function(e){var a=this.scale,n=new i.SkeletonData,r="string"===typeof e?JSON.parse(e):e,m=r.skeleton;if(null!=m&&(n.hash=m.hash,n.version=m.spine,n.width=m.width,n.height=m.height,n.fps=m.fps,n.imagesPath=m.images),r.bones)for(var v=0;v<r.bones.length;v++){var p=r.bones[v],g=null,y=this.getValue(p,"parent",null);if(null!=y&&null==(g=n.findBone(y)))throw new Error("Parent bone not found: "+y);var x=new s.BoneData(n.bones.length,p.name,g);x.length=this.getValue(p,"length",0)*a,x.x=this.getValue(p,"x",0)*a,x.y=this.getValue(p,"y",0)*a,x.rotation=this.getValue(p,"rotation",0),x.scaleX=this.getValue(p,"scaleX",1),x.scaleY=this.getValue(p,"scaleY",1),x.shearX=this.getValue(p,"shearX",0),x.shearY=this.getValue(p,"shearY",0),x.transformMode=t.transformModeFromString(this.getValue(p,"transform","normal")),n.bones.push(x)}if(r.slots)for(var M=0;M<r.slots.length;M++){var E=r.slots[M],k=E.name,w=E.bone,b=n.findBone(w);if(null==b)throw new Error("Slot bone not found: "+w);var T=new o.SlotData(n.slots.length,k,b),S=this.getValue(E,"color",null);null!=S&&T.color.setFromString(S);var A=this.getValue(E,"dark",null);null!=A&&(T.darkColor=new l.Color(1,1,1,1),T.darkColor.setFromString(A)),T.attachmentName=this.getValue(E,"attachment",null),T.blendMode=t.blendModeFromString(this.getValue(E,"blend","normal")),n.slots.push(T)}if(r.ik)for(var R=0;R<r.ik.length;R++){var C=r.ik[R],P=new h.IkConstraintData(C.name);P.order=this.getValue(C,"order",0);for(var I=0;I<C.bones.length;I++){var V=C.bones[I],N=n.findBone(V);if(null==N)throw new Error("IK bone not found: "+V);P.bones.push(N)}var _=C.target;if(P.target=n.findBone(_),null==P.target)throw new Error("IK target bone not found: "+_);P.bendDirection=this.getValue(C,"bendPositive",!0)?1:-1,P.mix=this.getValue(C,"mix",1),n.ikConstraints.push(P)}if(r.transform)for(var D=0;D<r.transform.length;D++){var O=r.transform[D],U=new u.TransformConstraintData(O.name);U.order=this.getValue(O,"order",0);for(var Y=0;Y<O.bones.length;Y++){var F=O.bones[Y],X=n.findBone(F);if(null==X)throw new Error("Transform constraint bone not found: "+F);U.bones.push(X)}var L=O.target;if(U.target=n.findBone(L),null==U.target)throw new Error("Transform constraint target bone not found: "+L);U.local=this.getValue(O,"local",!1),U.relative=this.getValue(O,"relative",!1),U.offsetRotation=this.getValue(O,"rotation",0),U.offsetX=this.getValue(O,"x",0)*a,U.offsetY=this.getValue(O,"y",0)*a,U.offsetScaleX=this.getValue(O,"scaleX",0),U.offsetScaleY=this.getValue(O,"scaleY",0),U.offsetShearY=this.getValue(O,"shearY",0),U.rotateMix=this.getValue(O,"rotateMix",1),U.translateMix=this.getValue(O,"translateMix",1),U.scaleMix=this.getValue(O,"scaleMix",1),U.shearMix=this.getValue(O,"shearMix",1),n.transformConstraints.push(U)}if(r.path)for(var B=0;B<r.path.length;B++){var W=r.path[B],j=new c.PathConstraintData(W.name);j.order=this.getValue(W,"order",0);for(var q=0;q<W.bones.length;q++){var G=W.bones[q],H=n.findBone(G);if(null==H)throw new Error("Transform constraint bone not found: "+G);j.bones.push(H)}var z=W.target;if(j.target=n.findSlot(z),null==j.target)throw new Error("Path target slot not found: "+z);j.positionMode=t.positionModeFromString(this.getValue(W,"positionMode","percent")),j.spacingMode=t.spacingModeFromString(this.getValue(W,"spacingMode","length")),j.rotateMode=t.rotateModeFromString(this.getValue(W,"rotateMode","tangent")),j.offsetRotation=this.getValue(W,"rotation",0),j.position=this.getValue(W,"position",0),j.positionMode==c.PositionMode.Fixed&&(j.position*=a),j.spacing=this.getValue(W,"spacing",0),j.spacingMode!=c.SpacingMode.Length&&j.spacingMode!=c.SpacingMode.Fixed||(j.spacing*=a),j.rotateMix=this.getValue(W,"rotateMix",1),j.translateMix=this.getValue(W,"translateMix",1),n.pathConstraints.push(j)}if(r.skins)for(var Z in r.skins){var J=r.skins[Z],Q=new f.Skin(Z);for(var K in J){var $=n.findSlotIndex(K);if(-1==$)throw new Error("Slot not found: "+K);var tt=J[K];for(var et in tt){var at=this.readAttachment(tt[et],Q,$,et,n);null!=at&&Q.addAttachment($,et,at)}}n.skins.push(Q),"default"==Q.name&&(n.defaultSkin=Q)}for(var nt=0,rt=this.linkedMeshes.length;nt<rt;nt++){var it=this.linkedMeshes[nt],st=null==it.skin?n.defaultSkin:n.findSkin(it.skin);if(null==st)throw new Error("Skin not found: "+it.skin);var ot=st.getAttachment(it.slotIndex,it.parent);if(null==ot)throw new Error("Parent mesh not found: "+it.parent);it.mesh.setParentMesh(ot)}if(this.linkedMeshes.length=0,r.events)for(var lt in r.events){var ht=r.events[lt],ut=new d.EventData(lt);ut.intValue=this.getValue(ht,"int",0),ut.floatValue=this.getValue(ht,"float",0),ut.stringValue=this.getValue(ht,"string",""),ut.audioPath=this.getValue(ht,"audio",null),null!=ut.audioPath&&(ut.volume=this.getValue(ht,"volume",1),ut.balance=this.getValue(ht,"balance",0)),n.events.push(ut)}if(r.animations)for(var ct in r.animations){var ft=r.animations[ct];this.readAnimation(ft,ct,n)}return n}},{key:"readAttachment",value:function(t,e,a,n,r){var i=this.scale;switch(n=this.getValue(t,"name",n),this.getValue(t,"type","region")){case"region":var s=this.getValue(t,"path",n),o=this.attachmentLoader.newRegionAttachment(e,n,s);if(null==o)return null;o.path=s,o.x=this.getValue(t,"x",0)*i,o.y=this.getValue(t,"y",0)*i,o.scaleX=this.getValue(t,"scaleX",1),o.scaleY=this.getValue(t,"scaleY",1),o.rotation=this.getValue(t,"rotation",0),o.width=t.width*i,o.height=t.height*i;var h=this.getValue(t,"color",null);return null!=h&&o.color.setFromString(h),o;case"boundingbox":var u=this.attachmentLoader.newBoundingBoxAttachment(e,n);if(null==u)return null;this.readVertices(t,u,t.vertexCount<<1);var c=this.getValue(t,"color",null);return null!=c&&u.color.setFromString(c),u;case"mesh":case"linkedmesh":var f=this.getValue(t,"path",n),d=this.attachmentLoader.newMeshAttachment(e,n,f);if(null==d)return null;d.path=f;var m=this.getValue(t,"color",null);null!=m&&d.color.setFromString(m);var v=this.getValue(t,"parent",null);if(null!=v)return d.inheritDeform=this.getValue(t,"deform",!0),this.linkedMeshes.push(new y(d,this.getValue(t,"skin",null),a,v)),d;var p=t.uvs;return this.readVertices(t,d,p.length),d.triangles=t.triangles,d.regionUVs=p,d.hullLength=2*this.getValue(t,"hull",0),d;case"path":var g=this.attachmentLoader.newPathAttachment(e,n);if(null==g)return null;g.closed=this.getValue(t,"closed",!1),g.constantSpeed=this.getValue(t,"constantSpeed",!0);var x=t.vertexCount;this.readVertices(t,g,x<<1);for(var M=l.Utils.newArray(x/3,0),E=0;E<t.lengths.length;E++)M[E]=t.lengths[E]*i;g.lengths=M;var k=this.getValue(t,"color",null);return null!=k&&g.color.setFromString(k),g;case"point":var w=this.attachmentLoader.newPointAttachment(e,n);if(null==w)return null;w.x=this.getValue(t,"x",0)*i,w.y=this.getValue(t,"y",0)*i,w.rotation=this.getValue(t,"rotation",0);var b=this.getValue(t,"color",null);return null!=b&&w.color.setFromString(b),w;case"clipping":var T=this.attachmentLoader.newClippingAttachment(e,n);if(null==T)return null;var S=this.getValue(t,"end",null);if(null!=S){var A=r.findSlot(S);if(null==A)throw new Error("Clipping end slot not found: "+S);T.endSlot=A}var R=t.vertexCount;this.readVertices(t,T,R<<1);var C=this.getValue(t,"color",null);return null!=C&&T.color.setFromString(C),T}return null}},{key:"readVertices",value:function(t,e,a){var n=this.scale;e.worldVerticesLength=a;var r=t.vertices;if(a!=r.length){for(var i=new Array,s=new Array,o=0,h=r.length;o<h;){var u=r[o++];s.push(u);for(var c=o+4*u;o<c;o+=4)s.push(r[o]),i.push(r[o+1]*n),i.push(r[o+2]*n),i.push(r[o+3])}e.bones=s,e.vertices=l.Utils.toFloatArray(i)}else{var f=l.Utils.toFloatArray(r);if(1!=n)for(var d=0,m=r.length;d<m;d++)f[d]*=n;e.vertices=f}}},{key:"readAnimation",value:function(t,e,a){var n=this.scale,r=new Array,i=0;if(t.slots)for(var s in t.slots){var o=t.slots[s],h=a.findSlotIndex(s);if(-1==h)throw new Error("Slot not found: "+s);for(var u in o){var f=o[u];if("attachment"==u){var d=new m.AttachmentTimeline(f.length);d.slotIndex=h;for(var p=0,g=0;g<f.length;g++){var y=f[g];d.setFrame(p++,y.time,y.name)}r.push(d),i=Math.max(i,d.frames[d.getFrameCount()-1])}else if("color"==u){var x=new m.ColorTimeline(f.length);x.slotIndex=h;for(var M=0,E=0;E<f.length;E++){var k=f[E],w=new l.Color;w.setFromString(k.color||"ffffffff"),x.setFrame(M,k.time,w.r,w.g,w.b,w.a),this.readCurve(k,x,M),M++}r.push(x),i=Math.max(i,x.frames[(x.getFrameCount()-1)*m.ColorTimeline.ENTRIES])}else{if("twoColor"!=u)throw new Error("Invalid timeline type for a slot: "+u+" ("+s+")");var b=new m.TwoColorTimeline(f.length);b.slotIndex=h;for(var T=0,S=0;S<f.length;S++){var A=f[S],R=new l.Color,C=new l.Color;R.setFromString(A.light),C.setFromString(A.dark),b.setFrame(T,A.time,R.r,R.g,R.b,R.a,C.r,C.g,C.b),this.readCurve(A,b,T),T++}r.push(b),i=Math.max(i,b.frames[(b.getFrameCount()-1)*m.TwoColorTimeline.ENTRIES])}}}if(t.bones)for(var P in t.bones){var I=t.bones[P],V=a.findBoneIndex(P);if(-1==V)throw new Error("Bone not found: "+P);for(var N in I){var _=I[N];if("rotate"===N){var D=new m.RotateTimeline(_.length);D.boneIndex=V;for(var O=0,U=0;U<_.length;U++){var Y=_[U];D.setFrame(O,Y.time,Y.angle),this.readCurve(Y,D,O),O++}r.push(D),i=Math.max(i,D.frames[(D.getFrameCount()-1)*m.RotateTimeline.ENTRIES])}else{if("translate"!==N&&"scale"!==N&&"shear"!==N)throw new Error("Invalid timeline type for a bone: "+N+" ("+P+")");var F=null,X=1;"scale"===N?F=new m.ScaleTimeline(_.length):"shear"===N?F=new m.ShearTimeline(_.length):(F=new m.TranslateTimeline(_.length),X=n),F.boneIndex=V;for(var L=0,B=0;B<_.length;B++){var W=_[B],j=this.getValue(W,"x",0),q=this.getValue(W,"y",0);F.setFrame(L,W.time,j*X,q*X),this.readCurve(W,F,L),L++}r.push(F),i=Math.max(i,F.frames[(F.getFrameCount()-1)*m.TranslateTimeline.ENTRIES])}}}if(t.ik)for(var G in t.ik){var H=t.ik[G],z=a.findIkConstraint(G),Z=new m.IkConstraintTimeline(H.length);Z.ikConstraintIndex=a.ikConstraints.indexOf(z);for(var J=0,Q=0;Q<H.length;Q++){var K=H[Q];Z.setFrame(J,K.time,this.getValue(K,"mix",1),this.getValue(K,"bendPositive",!0)?1:-1,this.getValue(K,"compress",!1),this.getValue(K,"stretch",!1)),this.readCurve(K,Z,J),J++}r.push(Z),i=Math.max(i,Z.frames[(Z.getFrameCount()-1)*m.IkConstraintTimeline.ENTRIES])}if(t.transform)for(var $ in t.transform){var tt=t.transform[$],et=a.findTransformConstraint($),at=new m.TransformConstraintTimeline(tt.length);at.transformConstraintIndex=a.transformConstraints.indexOf(et);for(var nt=0,rt=0;rt<tt.length;rt++){var it=tt[rt];at.setFrame(nt,it.time,this.getValue(it,"rotateMix",1),this.getValue(it,"translateMix",1),this.getValue(it,"scaleMix",1),this.getValue(it,"shearMix",1)),this.readCurve(it,at,nt),nt++}r.push(at),i=Math.max(i,at.frames[(at.getFrameCount()-1)*m.TransformConstraintTimeline.ENTRIES])}if(t.paths)for(var st in t.paths){var ot=t.paths[st],lt=a.findPathConstraintIndex(st);if(-1==lt)throw new Error("Path constraint not found: "+st);var ht=a.pathConstraints[lt];for(var ut in ot){var ct=ot[ut];if("position"===ut||"spacing"===ut){var ft=null,dt=1;"spacing"===ut?(ft=new m.PathConstraintSpacingTimeline(ct.length),ht.spacingMode!=c.SpacingMode.Length&&ht.spacingMode!=c.SpacingMode.Fixed||(dt=n)):(ft=new m.PathConstraintPositionTimeline(ct.length),ht.positionMode==c.PositionMode.Fixed&&(dt=n)),ft.pathConstraintIndex=lt;for(var mt=0,vt=0;vt<ct.length;vt++){var pt=ct[vt];ft.setFrame(mt,pt.time,this.getValue(pt,ut,0)*dt),this.readCurve(pt,ft,mt),mt++}r.push(ft),i=Math.max(i,ft.frames[(ft.getFrameCount()-1)*m.PathConstraintPositionTimeline.ENTRIES])}else if("mix"===ut){var gt=new m.PathConstraintMixTimeline(ct.length);gt.pathConstraintIndex=lt;for(var yt=0,xt=0;xt<ct.length;xt++){var Mt=ct[xt];gt.setFrame(yt,Mt.time,this.getValue(Mt,"rotateMix",1),this.getValue(Mt,"translateMix",1)),this.readCurve(Mt,gt,yt),yt++}r.push(gt),i=Math.max(i,gt.frames[(gt.getFrameCount()-1)*m.PathConstraintMixTimeline.ENTRIES])}}}if(t.deform)for(var Et in t.deform){var kt=t.deform[Et],wt=a.findSkin(Et);if(null==wt)throw new Error("Skin not found: "+Et);for(var bt in kt){var Tt=kt[bt],St=a.findSlotIndex(bt);if(-1==St)throw new Error("Slot not found: "+Tt.name);for(var At in Tt){var Rt=Tt[At],Ct=wt.getAttachment(St,At);if(null==Ct)throw new Error("Deform attachment not found: "+Rt.name);var Pt=null!=Ct.bones,It=Ct.vertices,Vt=Pt?It.length/3*2:It.length,Nt=new m.DeformTimeline(Rt.length);Nt.slotIndex=St,Nt.attachment=Ct;for(var _t=0,Dt=0;Dt<Rt.length;Dt++){var Ot=Rt[Dt],Ut=void 0,Yt=this.getValue(Ot,"vertices",null);if(null==Yt)Ut=Pt?l.Utils.newFloatArray(Vt):It;else{Ut=l.Utils.newFloatArray(Vt);var Ft=this.getValue(Ot,"offset",0);if(l.Utils.arrayCopy(Yt,0,Ut,Ft,Yt.length),1!=n)for(var Xt=Ft,Lt=Xt+Yt.length;Xt<Lt;Xt++)Ut[Xt]*=n;if(!Pt)for(var Bt=0;Bt<Vt;Bt++)Ut[Bt]+=It[Bt]}Nt.setFrame(_t,Ot.time,Ut),this.readCurve(Ot,Nt,_t),_t++}r.push(Nt),i=Math.max(i,Nt.frames[Nt.getFrameCount()-1])}}}var Wt=t.drawOrder;if(null==Wt&&(Wt=t.draworder),null!=Wt){for(var jt=new m.DrawOrderTimeline(Wt.length),qt=a.slots.length,Gt=0,Ht=0;Ht<Wt.length;Ht++){var zt=Wt[Ht],Zt=null,Jt=this.getValue(zt,"offsets",null);if(null!=Jt){Zt=l.Utils.newArray(qt,-1);for(var Qt=l.Utils.newArray(qt-Jt.length,0),Kt=0,$t=0,te=0;te<Jt.length;te++){var ee=Jt[te],ae=a.findSlotIndex(ee.slot);if(-1==ae)throw new Error("Slot not found: "+ee.slot);for(;Kt!=ae;)Qt[$t++]=Kt++;Zt[Kt+ee.offset]=Kt++}for(;Kt<qt;)Qt[$t++]=Kt++;for(var ne=qt-1;ne>=0;ne--)-1==Zt[ne]&&(Zt[ne]=Qt[--$t])}jt.setFrame(Gt++,zt.time,Zt)}r.push(jt),i=Math.max(i,jt.frames[jt.getFrameCount()-1])}if(t.events){for(var re=new m.EventTimeline(t.events.length),ie=0,se=0;se<t.events.length;se++){var oe=t.events[se],le=a.findEvent(oe.name);if(null==le)throw new Error("Event not found: "+oe.name);var he=new v.Event(l.Utils.toSinglePrecision(oe.time),le);he.intValue=this.getValue(oe,"int",le.intValue),he.floatValue=this.getValue(oe,"float",le.floatValue),he.stringValue=this.getValue(oe,"string",le.stringValue),null!=he.data.audioPath&&(he.volume=this.getValue(oe,"volume",1),he.balance=this.getValue(oe,"balance",0)),re.setFrame(ie++,he)}r.push(re),i=Math.max(i,re.frames[re.getFrameCount()-1])}if(isNaN(i))throw new Error("Error while parsing animation, duration is NaN");a.animations.push(new m.Animation(e,r,i))}},{key:"readCurve",value:function(t,e,a){if(t.curve)if("stepped"===t.curve)e.setStepped(a);else if("[object Array]"===Object.prototype.toString.call(t.curve)){var n=t.curve;e.setCurve(a,n[0],n[1],n[2],n[3])}}},{key:"getValue",value:function(t,e,a){return void 0!==t[e]?t[e]:a}}],[{key:"blendModeFromString",value:function(t){if("normal"==(t=t.toLowerCase()))return p.BlendMode.Normal;if("additive"==t)return p.BlendMode.Additive;if("multiply"==t)return p.BlendMode.Multiply;if("screen"==t)return p.BlendMode.Screen;throw new Error("Unknown blend mode: ".concat(t))}},{key:"positionModeFromString",value:function(t){if("fixed"==(t=t.toLowerCase()))return c.PositionMode.Fixed;if("percent"==t)return c.PositionMode.Percent;throw new Error("Unknown position mode: ".concat(t))}},{key:"spacingModeFromString",value:function(t){if("length"==(t=t.toLowerCase()))return c.SpacingMode.Length;if("fixed"==t)return c.SpacingMode.Fixed;if("percent"==t)return c.SpacingMode.Percent;throw new Error("Unknown position mode: ".concat(t))}},{key:"rotateModeFromString",value:function(t){if("tangent"==(t=t.toLowerCase()))return c.RotateMode.Tangent;if("chain"==t)return c.RotateMode.Chain;if("chainscale"==t)return c.RotateMode.ChainScale;throw new Error("Unknown rotate mode: ".concat(t))}},{key:"transformModeFromString",value:function(t){if("normal"==(t=t.toLowerCase()))return s.TransformMode.Normal;if("onlytranslation"==t)return s.TransformMode.OnlyTranslation;if("norotationorreflection"==t)return s.TransformMode.NoRotationOrReflection;if("noscale"==t)return s.TransformMode.NoScale;if("noscaleorreflection"==t)return s.TransformMode.NoScaleOrReflection;throw new Error("Unknown transform mode: ".concat(t))}}]),t}();e.SkeletonJson=g;var y=function t(e,a,r,i){n(this,t),this.mesh=e,this.skin=a,this.slotIndex=r,this.parent=i}},function(t,e,a){"use strict";var n=a(1),r=a(2);Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){n(this,t),this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}return r(t,[{key:"findBone",value:function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,a=0,n=e.length;a<n;a++){var r=e[a];if(r.name==t)return r}return null}},{key:"findBoneIndex",value:function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,a=0,n=e.length;a<n;a++)if(e[a].name==t)return a;return-1}},{key:"findSlot",value:function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,a=0,n=e.length;a<n;a++){var r=e[a];if(r.name==t)return r}return null}},{key:"findSlotIndex",value:function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,a=0,n=e.length;a<n;a++)if(e[a].name==t)return a;return-1}},{key:"findSkin",value:function(t){if(null==t)throw new Error("skinName cannot be null.");for(var e=this.skins,a=0,n=e.length;a<n;a++){var r=e[a];if(r.name==t)return r}return null}},{key:"findEvent",value:function(t){if(null==t)throw new Error("eventDataName cannot be null.");for(var e=this.events,a=0,n=e.length;a<n;a++){var r=e[a];if(r.name==t)return r}return null}},{key:"findAnimation",value:function(t){if(null==t)throw new Error("animationName cannot be null.");for(var e=this.animations,a=0,n=e.length;a<n;a++){var r=e[a];if(r.name==t)return r}return null}},{key:"findIkConstraint",value:function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,a=0,n=e.length;a<n;a++){var r=e[a];if(r.name==t)return r}return null}},{key:"findTransformConstraint",value:function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,a=0,n=e.length;a<n;a++){var r=e[a];if(r.name==t)return r}return null}},{key:"findPathConstraint",value:function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,a=0,n=e.length;a<n;a++){var r=e[a];if(r.name==t)return r}return null}},{key:"findPathConstraintIndex",value:function(t){if(null==t)throw new Error("pathConstraintName cannot be null.");for(var e=this.pathConstraints,a=0,n=e.length;a<n;a++)if(e[a].name==t)return a;return-1}}]),t}();e.SkeletonData=i},function(t,e,a){"use strict";var n=a(1);Object.defineProperty(e,"__esModule",{value:!0});var r=a(3);e.SlotData=function t(e,a,i){if(n(this,t),this.color=new r.Color(1,1,1,1),e<0)throw new Error("index must be >= 0.");if(null==a)throw new Error("name cannot be null.");if(null==i)throw new Error("boneData cannot be null.");this.index=e,this.name=a,this.boneData=i}},function(t,e,a){"use strict";var n=a(1);Object.defineProperty(e,"__esModule",{value:!0});e.IkConstraintData=function t(e){n(this,t),this.order=0,this.bones=new Array,this.bendDirection=1,this.compress=!1,this.stretch=!1,this.uniform=!1,this.mix=1,this.name=e}},function(t,e,a){"use strict";var n=a(1);Object.defineProperty(e,"__esModule",{value:!0});e.TransformConstraintData=function t(e){if(n(this,t),this.order=0,this.bones=new Array,this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.offsetRotation=0,this.offsetX=0,this.offsetY=0,this.offsetScaleX=0,this.offsetScaleY=0,this.offsetShearY=0,this.relative=!1,this.local=!1,null==e)throw new Error("name cannot be null.");this.name=e}},function(t,e,a){"use strict";var n=a(1),r=a(2);Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(e){if(n(this,t),this.attachments=new Array,null==e)throw new Error("name cannot be null.");this.name=e}return r(t,[{key:"addAttachment",value:function(t,e,a){if(null==a)throw new Error("attachment cannot be null.");var n=this.attachments;t>=n.length&&(n.length=t+1),n[t]||(n[t]={}),n[t][e]=a}},{key:"getAttachment",value:function(t,e){var a=this.attachments[t];return a?a[e]:null}},{key:"attachAll",value:function(t,e){for(var a=0,n=0;n<t.slots.length;n++){var r=t.slots[n],i=r.getAttachment();if(i&&a<e.attachments.length){var s=e.attachments[a];for(var o in s){if(i==s[o]){var l=this.getAttachment(a,o);null!=l&&r.setAttachment(l);break}}}a++}}}]),t}();e.Skin=i},function(t,e,a){"use strict";var n=a(1);Object.defineProperty(e,"__esModule",{value:!0});e.EventData=function t(e){n(this,t),this.name=e}},function(t,e,a){"use strict";var n=a(1);Object.defineProperty(e,"__esModule",{value:!0});e.Event=function t(e,a){if(n(this,t),null==a)throw new Error("data cannot be null.");this.time=e,this.data=a}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.Normal=0]="Normal",t[t.Additive=1]="Additive",t[t.Multiply=2]="Multiply",t[t.Screen=3]="Screen"}(e.BlendMode||(e.BlendMode={}))},function(t,e,a){"use strict";var n=a(1),r=a(2);Object.defineProperty(e,"__esModule",{value:!0});var i=a(22),s=a(23),o=a(82),l=a(21),h=a(83),u=a(32),c=function(){function t(e){n(this,t),this.atlas=e}return r(t,[{key:"newRegionAttachment",value:function(t,e,a){var n=this.atlas.findRegion(a);if(null==n)throw new Error("Region not found in atlas: "+a+" (region attachment: "+e+")");var r=new i.RegionAttachment(e);return r.region=n,r}},{key:"newMeshAttachment",value:function(t,e,a){var n=this.atlas.findRegion(a);if(null==n)throw new Error("Region not found in atlas: "+a+" (mesh attachment: "+e+")");var r=new s.MeshAttachment(e);return r.region=n,r}},{key:"newBoundingBoxAttachment",value:function(t,e){return new o.BoundingBoxAttachment(e)}},{key:"newPathAttachment",value:function(t,e){return new l.PathAttachment(e)}},{key:"newPointAttachment",value:function(t,e){return new h.PointAttachment(e)}},{key:"newClippingAttachment",value:function(t,e){return new u.ClippingAttachment(e)}}]),t}();e.AtlasAttachmentLoader=c},function(t,e,a){"use strict";var n=a(1),r=a(5),i=a(4),s=a(6);Object.defineProperty(e,"__esModule",{value:!0});var o=a(15),l=a(3),h=function(t){function e(t){var a;return n(this,e),(a=r(this,i(e).call(this,t))).color=new l.Color(1,1,1,1),a}return s(e,t),e}(o.VertexAttachment);e.BoundingBoxAttachment=h},function(t,e,a){"use strict";var n=a(1),r=a(2),i=a(5),s=a(4),o=a(6);Object.defineProperty(e,"__esModule",{value:!0});var l=a(15),h=a(3),u=function(t){function e(t){var a;return n(this,e),(a=i(this,s(e).call(this,t))).color=new h.Color(.38,.94,0,1),a}return o(e,t),r(e,[{key:"computeWorldPosition",value:function(t,e){var a=t.matrix;return e.x=this.x*a.a+this.y*a.c+t.worldX,e.y=this.x*a.b+this.y*a.d+t.worldY,e}},{key:"computeWorldRotation",value:function(t){var e=t.matrix,a=h.MathUtils.cosDeg(this.rotation),n=h.MathUtils.sinDeg(this.rotation),r=a*e.a+n*e.c,i=a*e.b+n*e.d;return Math.atan2(i,r)*h.MathUtils.radDeg}}]),e}(l.VertexAttachment);e.PointAttachment=u},function(t,e){!function(){var t;Math.fround||(Math.fround=Math.fround=(t=new Float32Array(1),function(e){return t[0]=e,t[0]}))}()},function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),i=a(34),s=a.n(i),o=a(17),l=(a(42),a(16)),h=a(8),u=a(9),c=a(11),f=a(10),d=a(12),m=a(7),v=a(36),p=Object(l.CustomPIXIComponent)({customDisplayObject:function(){return new m.Container},customApplyProps:function(t,e,a){var n=a.stopGame,r=a.setCurrentPlayerY,i=a.app,s=a.spineData,o=a.animation,l=a.status,h=a.options,u=(h=void 0===h?{}:h).x,c=void 0===u?0:u,f=h.y,d=void 0===f?0:f,m=h.scale,p=void 0===m?1:m;if(s){var g=null;s!==e.spineData?(t.removeChildren(0,t.children.length),(g=new v.Spine(s)).state.setAnimation(0,o,!0),t.addChild(g)):g=t.getChildAt(0),g.stateData.setMix("running","jump",.2),g.stateData.setMix("jump","running",.4),g.state.setAnimation(0,"running",!0),i.stage.on("pointerdown",(function(){g.state.setAnimation(0,"jump",!1),g.state.addAnimation(0,"running",!0,0),g.position.y=d-100,r(g.position.y),setTimeout((function(){g.position.y=d,r(g.position.y)}),500)})),o!==e.animation&&g.state.setAnimation(0,o,!0),"before_stop"===l&&(i.stage.removeAllListeners(),g.state.clearTracks(),g.state.addAnimation(0,"running",!1,0),g.state.setAnimation(0,"die",!0,0),setTimeout((function(){return n()}),800)),g.position.set(c,d),g.scale.set(p)}}},"Spine"),g=window.innerWidth<800?window.innerWidth:800,y=window.innerHeight<600?window.innerHeight:600,x=0;y>=320&&y<=375&&(x=-30);var M=y-(210*y/600*.8+x),E=Math.round(g/3.5),k=M+20;y>=320&&y<=375&&(x=-.05);var w=Math.round(3*g/10)/800+x,b=Math.round(80*g/800),T=Math.round(120*g/800),S=k-T+10;y>=320&&y<=375&&(x=20);var A=k-150-2.4*b+x,R=function(t){function e(){var t,a;Object(h.a)(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(t=Object(f.a)(e)).call.apply(t,[this].concat(r)))).state={skeleton:void 0},a}return Object(d.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.props.app.stop(),this.props.app.loader.add("pixie","pixie.json").load((function(e,a){t.setState({skeleton:a.pixie.spineData}),t.props.app.start()}))}},{key:"shouldComponentUpdate",value:function(t,e){return this.state.skeleton!==e.skeleton||this.props.status!==t.status}},{key:"render",value:function(){var t="running";return"stop"===this.props.status&&(t="die"),r.a.createElement(p,Object.assign({},this.props,{spineData:this.state.skeleton,animation:t,options:{x:E,y:k,scale:w},setCurrentPlayerY:this.props.setCurrentPlayerY,status:this.props.status}))}}]),e}(n.Component),C=function(t){function e(t){var a;return Object(h.a)(this,e),(a=Object(c.a)(this,Object(f.a)(e).call(this,t))).state={x:0},a.animate=function(){var t;a.postitionRef.current+=a.props.speed?a.props.speed:10,t=-.6*a.postitionRef.current+a.props.shift,(t%=2*a.length)<0&&(t+=2*a.length),t-=a.length,a.setState({x:t}),a.props.onChangeX&&a.props.onChangeX(t)},a.length=t.length?t.length:1286,a.postitionRef=r.a.createRef(a.length),a}return Object(d.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){this.props.app.ticker.add(this.animate)}},{key:"componentWillUnmount",value:function(){this.props.app.ticker.remove(this.animate)}},{key:"render",value:function(){return r.a.createElement(l.Sprite,Object.assign({texture:m.Texture.from(this.props.res),x:this.state.x},this.props))}}]),e}(n.PureComponent),P=function(t){function e(){return Object(h.a)(this,e),Object(c.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(u.a)(e,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){var t=this.props,e=t.texture,a=t.length,n=t.speed,i=t.app,s=t.y;return r.a.createElement(r.a.Fragment,null,r.a.createElement(C,{app:i,y:s,res:e,shift:0,length:a,speed:n}),r.a.createElement(C,{app:i,y:s,res:e,shift:a,length:a,speed:n}))}}]),e}(r.a.Component),I=function(t){function e(){return Object(h.a)(this,e),Object(c.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(u.a)(e,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){var t=this.props,e=t.app,a=t.onChangeX;return r.a.createElement(C,{app:e,shift:643,speed:25,res:"snail2.png",y:S,width:T,height:T,onChangeX:a})}}]),e}(r.a.Component),V=function(t){function e(){return Object(h.a)(this,e),Object(c.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(u.a)(e,[{key:"shouldComponentUpdate",value:function(t){return t.visible!==this.props.visible}},{key:"render",value:function(){var t=this.props,e=t.app,a=t.visible,n=t.onChangeX;return r.a.createElement(C,{app:e,length:800,res:"banana2.png",y:A,shift:0,speed:10,visible:a,width:b,height:b,onChangeX:n})}}]),e}(r.a.Component),N=function(t){var e=t.status,a=t.isBananaVisible,n=(t.catchBanana,t.stopGame),i=t.setSnailX,s=t.setCurrentPlayerY,o=t.setBananaX;return r.a.createElement(l.Stage,{width:g,height:y,options:{backgroundColor:1087931},interactive:!0},r.a.createElement(l.AppContext.Consumer,null,(function(t){return"stop"===e?t.stop():t.start(),r.a.createElement(r.a.Fragment,null,r.a.createElement(P,{app:t,length:1286,texture:"bg2.jpg",y:0,speed:10}),r.a.createElement(P,{app:t,length:1003,texture:"ground3.png",y:M,speed:15}),r.a.createElement(I,{app:t,onChangeX:i}),r.a.createElement(V,{app:t,visible:a,onChangeX:o}),r.a.createElement(R,{app:t,stopGame:n,status:e,setCurrentPlayerY:s}))})))},_=function(){return r.a.createElement("div",{className:"credit"},r.a.createElement("img",{src:"https://raw.githubusercontent.com/pylnata/mowgli/public/stars.svg",alt:"star",width:"20",height:"20"})," me on"," ",r.a.createElement("a",{href:"https://github.com/pylnata/mowgli"},"github/pylnata"))},D=function(t){var e=t.startGame;return r.a.createElement("div",{className:"intro"},r.a.createElement("h1",null," Mowgli ",r.a.createElement("span",null,"VS")," evil snails"),r.a.createElement("button",{onClick:e},"New game"),r.a.createElement("div",{className:"rules"},"How to play: click to jump!"),r.a.createElement(_,null))},O=function(t){var e=t.startGame,a=t.result;return r.a.createElement("div",{className:"stop"},r.a.createElement("div",null,r.a.createElement("h1",null," Mowgli ",r.a.createElement("span",null,"VS")," evil snails"),r.a.createElement("div",null,"Your score: ",r.a.createElement("b",null,a)," ",r.a.createElement("img",{src:"/banana2.png",width:"40",height:"40",alt:"banana"}))),r.a.createElement("button",{onClick:e},"New game"),r.a.createElement(_,null))};s.a.render(r.a.createElement((function(){var t=r.a.useState(null),e=Object(o.a)(t,2),a=e[0],n=e[1],i=r.a.useState(!0),s=Object(o.a)(i,2),l=s[0],h=s[1],u=r.a.useState(0),c=Object(o.a)(u,2),f=c[0],d=c[1],m=r.a.useState(0),v=Object(o.a)(m,2),p=v[0],x=v[1],M=r.a.useState(0),w=Object(o.a)(M,2),S=w[0],A=w[1],R=r.a.useState(k),C=Object(o.a)(R,2),P=C[0],I=C[1],V=function(){h(!1),d((function(t){return t+1})),setTimeout((function(){h(!0)}),1500)};r.a.useEffect((function(){"play"===a&&p<=E+T/3*2&&p>=E-100*T/120&&P>k-50&&n("before_stop")}),[p,P,a]),r.a.useEffect((function(){P===k-100&&l&&S>=E-b-20&&S<=E+b&&V()}),[S,P,l]);var _=function(){d(0),n("play")},U=null;return U=a?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{width:g+"px",height:y+"px",position:"relative"}},"stop"===a&&r.a.createElement(O,{startGame:_,result:f}),"play"===a&&r.a.createElement("div",{className:"result"},r.a.createElement("img",{src:"https://raw.githubusercontent.com/pylnata/mowgli/public/banana2.png",alt:"",width:b/2}),f),r.a.createElement(N,{status:a,isBananaVisible:l,catchBanana:V,stopGame:function(){n("stop")},setSnailX:x,setCurrentPlayerY:I,setBananaX:A}))):r.a.createElement(D,{startGame:_}),r.a.createElement("center",null,U)}),null),document.getElementById("root"))}],[[37,1,2]]]);